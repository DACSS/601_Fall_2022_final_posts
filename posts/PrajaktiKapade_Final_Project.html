<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Prajakti Kapade">
<meta name="dcterms.date" content="2022-12-17">
<meta name="description" content="Final Project">

<title>DACSS 601: Data Science Fundamentals - FALL 2022 - SF Library Usage Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<meta name="twitter:title" content="DACSS 601: Data Science Fundamentals - FALL 2022 - SF Library Usage Analysis">
<meta name="twitter:description" content="Final Project">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../index.html">
    <img src="../images/UMass White Wordmark Horiz.png" alt="">
    <span class="navbar-title">DACSS 601: Data Science Fundamentals - FALL 2022</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page">Fall 2022 Posts</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">Contributors</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss">DACSS</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS/601_Fall_2022"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">SF Library Usage Analysis</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Final materials</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://dacss.github.io/601_Fall_2022/" class="sidebar-item-text sidebar-link">Fall 2022 posts</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">final Posts</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">INTRODUCTION</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">DATA</a>
  <ul class="collapse">
  <li><a href="#loading-the-dataset" id="toc-loading-the-dataset" class="nav-link" data-scroll-target="#loading-the-dataset">Loading the dataset</a></li>
  <li><a href="#summary-of-the-dataset" id="toc-summary-of-the-dataset" class="nav-link" data-scroll-target="#summary-of-the-dataset">Summary of the dataset</a></li>
  <li><a href="#renaming-the-columns" id="toc-renaming-the-columns" class="nav-link" data-scroll-target="#renaming-the-columns">Renaming the columns</a></li>
  <li><a href="#cleaning-the-dataset" id="toc-cleaning-the-dataset" class="nav-link" data-scroll-target="#cleaning-the-dataset">Cleaning the dataset</a></li>
  <li><a href="#loading-the-branch-information" id="toc-loading-the-branch-information" class="nav-link" data-scroll-target="#loading-the-branch-information">Loading the branch information</a></li>
  <li><a href="#data-exploration" id="toc-data-exploration" class="nav-link" data-scroll-target="#data-exploration">Data Exploration</a></li>
  <li><a href="#data-statistics" id="toc-data-statistics" class="nav-link" data-scroll-target="#data-statistics">Data Statistics</a></li>
  </ul></li>
  <li><a href="#visualizations" id="toc-visualizations" class="nav-link" data-scroll-target="#visualizations">VISUALIZATIONS</a>
  <ul class="collapse">
  <li><a href="#year-of-registration-by-age-range" id="toc-year-of-registration-by-age-range" class="nav-link" data-scroll-target="#year-of-registration-by-age-range">Year of Registration by Age Range</a></li>
  <li><a href="#total-checkouts-and-renewals-by-age-range" id="toc-total-checkouts-and-renewals-by-age-range" class="nav-link" data-scroll-target="#total-checkouts-and-renewals-by-age-range">Total Checkouts and Renewals by Age Range</a></li>
  <li><a href="#total-checkouts-and-renewals-by-patron-types" id="toc-total-checkouts-and-renewals-by-patron-types" class="nav-link" data-scroll-target="#total-checkouts-and-renewals-by-patron-types">Total Checkouts and Renewals by Patron Types</a></li>
  <li><a href="#checkouts-and-renewals---a-trend" id="toc-checkouts-and-renewals---a-trend" class="nav-link" data-scroll-target="#checkouts-and-renewals---a-trend">Checkouts and Renewals - A trend</a></li>
  <li><a href="#total-checkouts-by-month-for-year-2016" id="toc-total-checkouts-by-month-for-year-2016" class="nav-link" data-scroll-target="#total-checkouts-by-month-for-year-2016">Total Checkouts by Month for year 2016</a></li>
  <li><a href="#trends-of-age-range-and-patron-type-for-july-2016" id="toc-trends-of-age-range-and-patron-type-for-july-2016" class="nav-link" data-scroll-target="#trends-of-age-range-and-patron-type-for-july-2016">Trends of Age Range and Patron Type for July 2016</a></li>
  <li><a href="#notice-preference-by-locationpincode" id="toc-notice-preference-by-locationpincode" class="nav-link" data-scroll-target="#notice-preference-by-locationpincode">Notice preference by location(pincode)</a></li>
  <li><a href="#checkouts-for-prominent-pincode-by-patron-types-and-age-ranges" id="toc-checkouts-for-prominent-pincode-by-patron-types-and-age-ranges" class="nav-link" data-scroll-target="#checkouts-for-prominent-pincode-by-patron-types-and-age-ranges">Checkouts for prominent pincode by Patron Types and Age Ranges</a></li>
  <li><a href="#year-of-patron-registration-by-branches" id="toc-year-of-patron-registration-by-branches" class="nav-link" data-scroll-target="#year-of-patron-registration-by-branches">Year of Patron Registration by Branches</a></li>
  <li><a href="#analysis-for-residents-and-non-residents" id="toc-analysis-for-residents-and-non-residents" class="nav-link" data-scroll-target="#analysis-for-residents-and-non-residents">Analysis for Residents and Non-Residents</a></li>
  <li><a href="#different-patron-types-by-year-of-registery-and-their-residence." id="toc-different-patron-types-by-year-of-registery-and-their-residence." class="nav-link" data-scroll-target="#different-patron-types-by-year-of-registery-and-their-residence.">Different Patron types by year of registery and their residence.</a></li>
  <li><a href="#different-age-range-by-year-of-registery-and-their-residence." id="toc-different-age-range-by-year-of-registery-and-their-residence." class="nav-link" data-scroll-target="#different-age-range-by-year-of-registery-and-their-residence.">Different Age Range by year of registery and their residence.</a></li>
  </ul></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection">REFLECTION</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">CONCLUSION</a></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography">BIBLIOGRAPHY</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">SF Library Usage Analysis</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>

<div>
  <div class="description">
    Final Project
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Prajakti Kapade </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 17, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">INTRODUCTION</h2>
<p>Prior to computerization, library tasks were performed manually and independently from one another. Selectors ordered materials with ordering slips, cataloguers manually catalogued sources and indexed them with the card catalog system (in which all bibliographic data was kept on a single index card), fines were collected by local bailiffs, and users signed books out manually, indicating their name on clue cards which were then kept at the circulation desk.</p>
<p>Early mechanization came in 1936, when the University of Texas began using a punch card system to manage library circulation. While the punch card system allowed for more efficient tracking of loans, library services were far from being integrated, and no other library task was affected by this change. This led to customer dissatisfaction and they wanted to move towards a very systematic way of keeping track, then came in Integrated Library systems, one example of which is my dataset for the final project.</p>
<p>This system is perfect for all educational institutions that wish to maintain minimum operational costs. The system helps with better management, lesser wastage of time and improves engagement and productivity. With this data, we can analyze the trends about different patrons based on their age, based on the registered year, their renewals and checkouts, and see the circulation trend.</p>
<p>Installing and importing necessary packages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("hrbrthemes")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("viridis")</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages('patchwork')</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages('zoo')</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages('directlabels')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
✔ ggplot2 3.4.0      ✔ purrr   0.3.5 
✔ tibble  3.1.8      ✔ dplyr   1.0.10
✔ tidyr   1.2.1      ✔ stringr 1.5.0 
✔ readr   2.1.3      ✔ forcats 0.5.2 </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tibble' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'stringr' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: Either Arial Narrow or Roboto Condensed fonts are required to use these themes.
      Please use hrbrthemes::import_roboto_condensed() to install Roboto Condensed and
      if Arial Narrow is not on your system, please see https://bit.ly/arialnarrow</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'viridis' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: viridisLite</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'viridisLite' was built under R version 4.2.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggbeeswarm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggbeeswarm' was built under R version 4.2.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'zoo'

The following objects are masked from 'package:base':

    as.Date, as.Date.numeric</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(directlabels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'directlabels' was built under R version 4.2.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">DATA</h2>
<section id="loading-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="loading-the-dataset">Loading the dataset</h3>
<p>The dataset - SF Integrated Learning System is sourced from Kaggle.com and is composed of bibliographic records including inventoried items, patron records, and circulation data. The data is used in the daily operation of the library, including circulation, online public catalog, cataloging, acquisitions, collection development, processing, and serials control. This dataset represents the usage of inventoried items by patrons (~420K records). It contains data starting from 2003 uptill 2016.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>library_dataset <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/Library_Usage.csv"</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>library_dataset</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 423,448 × 15
   Patron Type…¹ Patro…² Total…³ Total…⁴ Age R…⁵ Home …⁶ Home …⁷ Circu…⁸ Circu…⁹
           &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
 1             3 SENIOR       28      13 65 to … X       Main L… Novemb… 2012   
 2             0 ADULT        21      10 55 to … X       Main L… October 2015   
 3             0 ADULT       275     559 60 to … X       Main L… January 2015   
 4             0 ADULT        73      38 45 to … M8      Missio… Februa… 2016   
 5             0 ADULT       182      90 45 to … X       Main L… July    2016   
 6             3 SENIOR        1       0 65 to … X       Main L… July    2004   
 7            16 DIGITA…      31       4 65 to … P7      Potrero January 2012   
 8             0 ADULT       547     177 60 to … X       Main L… July    2016   
 9             0 ADULT        28       1 60 to … X       Main L… Decemb… 2015   
10             0 ADULT        77       3 60 to … X       Main L… July    2016   
# … with 423,438 more rows, 6 more variables: `Notice Preference Code` &lt;chr&gt;,
#   `Notice Preference Definition` &lt;chr&gt;, `Provided Email Address` &lt;lgl&gt;,
#   `Year Patron Registered` &lt;dbl&gt;, `Outside of County` &lt;lgl&gt;,
#   `Supervisor District` &lt;dbl&gt;, and abbreviated variable names
#   ¹​`Patron Type Code`, ²​`Patron Type Definition`, ³​`Total Checkouts`,
#   ⁴​`Total Renewals`, ⁵​`Age Range`, ⁶​`Home Library Code`,
#   ⁷​`Home Library Definition`, ⁸​`Circulation Active Month`, …</code></pre>
</div>
</div>
</section>
<section id="summary-of-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="summary-of-the-dataset">Summary of the dataset</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(library_dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 423448     15</code></pre>
</div>
</div>
<p>The dataset contains 423448 records and 15 columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(library_dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 423,448
Columns: 15
$ `Patron Type Code`             &lt;dbl&gt; 3, 0, 0, 0, 0, 3, 16, 0, 0, 0, 3, 3, 0,…
$ `Patron Type Definition`       &lt;chr&gt; "SENIOR", "ADULT", "ADULT", "ADULT", "A…
$ `Total Checkouts`              &lt;dbl&gt; 28, 21, 275, 73, 182, 1, 31, 547, 28, 7…
$ `Total Renewals`               &lt;dbl&gt; 13, 10, 559, 38, 90, 0, 4, 177, 1, 3, 9…
$ `Age Range`                    &lt;chr&gt; "65 to 74 years", "55 to 59 years", "60…
$ `Home Library Code`            &lt;chr&gt; "X", "X", "X", "M8", "X", "X", "P7", "X…
$ `Home Library Definition`      &lt;chr&gt; "Main Library", "Main Library", "Main L…
$ `Circulation Active Month`     &lt;chr&gt; "November", "October", "January", "Febr…
$ `Circulation Active Year`      &lt;chr&gt; "2012", "2015", "2015", "2016", "2016",…
$ `Notice Preference Code`       &lt;chr&gt; "z", "z", "z", "z", "z", "z", "z", "p",…
$ `Notice Preference Definition` &lt;chr&gt; "email", "email", "email", "email", "em…
$ `Provided Email Address`       &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRU…
$ `Year Patron Registered`       &lt;dbl&gt; 2003, 2003, 2003, 2003, 2003, 2003, 200…
$ `Outside of County`            &lt;lgl&gt; TRUE, FALSE, TRUE, FALSE, FALSE, TRUE, …
$ `Supervisor District`          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</code></pre>
</div>
</div>
<p>The above shows the columns of the dataset along with their datatype and the initial recordings of that particular columns. The distinct data types are : dbl - double/real number values, chr - characters and lgl - for boolean values.</p>
<p>The columns and their description are as follows:</p>
<ol type="1">
<li><p><code>Patron Type Code</code>- Type of patron record (adult, teen, child, senior, etc.)</p></li>
<li><p><code>Patron Type Definition</code> - Description of patron (adult, teen, child, senior, etc.).</p></li>
<li><p><code>Total Checkouts</code>- Total number of items the patron has checked out from the library since the record was created.</p></li>
<li><p><code>Total Renewals</code> - Total number of times the patron has renewed checked-out items.</p></li>
<li><p><code>Age Range</code>- Contains age ranges</p></li>
<li><p><code>Home Library Code</code>- Default value indicates the branch library where the patron was originally registered.</p></li>
<li><p><code>Home Library Definition</code> - Description of the branch library where the patron was originally registered.</p></li>
<li><p><code>Circulation Active Month</code> - Year the patron last checked out library materials, or last logged into the library’s subscription databases.</p></li>
<li><p><code>Circulation Active Year</code> - Month the patron last checked out library materials, or last logged into the library’s subscription databases.</p></li>
<li><p><code>Notice Preference Code</code>- This field is used to indicate the patron’s preferred method of receiving library notices.</p></li>
<li><p><code>Notice Preference Definition</code>- Description of the patron’s preferred method of receiving library notices.</p></li>
<li><p><code>Provided Email Address</code> - Indicates if the patron has provided email address or not.</p></li>
<li><p><code>Year Patron Registered</code>- Year patron registered with library system. No dates prior to 2003 due to system migration.</p></li>
<li><p><code>Outside of County</code> - If a patron’s home address is not in San Francisco, then flagged as true, otherwise false.</p></li>
<li><p><code>Supervisor District</code> - Based on patron address: San Francisco Supervisor District. Based on the website it suggested that “This is an automated field, please note that if”Outside of County” is true, then there will be no supervisor district. Also, if the input address was not well-formed, the supervisor district will be blank.”</p></li>
</ol>
</section>
<section id="renaming-the-columns" class="level3">
<h3 class="anchored" data-anchor-id="renaming-the-columns">Renaming the columns</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>library_dataset <span class="ot">&lt;-</span> library_dataset <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>( <span class="st">'out_of_county'</span> <span class="ot">=</span> <span class="st">'Outside of County'</span>, <span class="st">"patron_type"</span> <span class="ot">=</span> <span class="st">'Patron Type Definition'</span>, <span class="st">"total_checkouts"</span> <span class="ot">=</span> <span class="st">'Total Checkouts'</span>, <span class="st">"total_renewals"</span><span class="ot">=</span> <span class="st">'Total Renewals'</span>, <span class="st">'age'</span> <span class="ot">=</span> <span class="st">'Age Range'</span>, <span class="st">'branch'</span> <span class="ot">=</span> <span class="st">'Home Library Definition'</span>,<span class="st">'active_year'</span> <span class="ot">=</span> <span class="st">'Circulation Active Year'</span>, <span class="st">'active_month'</span> <span class="ot">=</span> <span class="st">'Circulation Active Month'</span>, <span class="st">'notice_preference'</span> <span class="ot">=</span> <span class="st">'Notice Preference Definition'</span>, <span class="st">'provided_email'</span> <span class="ot">=</span> <span class="st">'Provided Email Address'</span>, <span class="st">'year_registered'</span> <span class="ot">=</span> <span class="st">'Year Patron Registered'</span>, <span class="st">"outside_of_county"</span> <span class="ot">=</span> <span class="st">'Outside of County'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cleaning-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="cleaning-the-dataset">Cleaning the dataset</h3>
<p>Selected the columns with unique characteristic for our visualizations and analysis. Some columns contain the code for the definition example : Home Library Code is the subsequent code for the Home Library Definition.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="ot">&lt;-</span> library_dataset<span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>                <span class="fu">select</span>(patron_type,total_checkouts,total_renewals,age,branch,active_month,active_year,notice_preference,provided_email,year_registered,outside_of_county)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>library_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 423,448 × 11
   patron…¹ total…² total…³ age   branch activ…⁴ activ…⁵ notic…⁶ provi…⁷ year_…⁸
   &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;     &lt;dbl&gt;
 1 SENIOR        28      13 65 t… Main … Novemb… 2012    email   TRUE       2003
 2 ADULT         21      10 55 t… Main … October 2015    email   TRUE       2003
 3 ADULT        275     559 60 t… Main … January 2015    email   TRUE       2003
 4 ADULT         73      38 45 t… Missi… Februa… 2016    email   TRUE       2003
 5 ADULT        182      90 45 t… Main … July    2016    email   TRUE       2003
 6 SENIOR         1       0 65 t… Main … July    2004    email   TRUE       2003
 7 DIGITAL…      31       4 65 t… Potre… January 2012    email   TRUE       2003
 8 ADULT        547     177 60 t… Main … July    2016    phone   FALSE      2003
 9 ADULT         28       1 60 t… Main … Decemb… 2015    email   TRUE       2003
10 ADULT         77       3 60 t… Main … July    2016    email   TRUE       2003
# … with 423,438 more rows, 1 more variable: outside_of_county &lt;lgl&gt;, and
#   abbreviated variable names ¹​patron_type, ²​total_checkouts, ³​total_renewals,
#   ⁴​active_month, ⁵​active_year, ⁶​notice_preference, ⁷​provided_email,
#   ⁸​year_registered</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">$</span>y_m <span class="ot">&lt;-</span> <span class="fu">paste</span>(library_data<span class="sc">$</span>active_year,library_data<span class="sc">$</span>active_month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="loading-the-branch-information" class="level3">
<h3 class="anchored" data-anchor-id="loading-the-branch-information">Loading the branch information</h3>
<p>The dataset mentions the names of different branches of SF Public Library along with their code, but it does not give us any more information about these branches. I extracted some data about the branches from the public library website : https://sfpl.org/locations/#!/filters?sort_by=weight&amp;sort_order=ASC&amp;page=2 and created my own dataset “branch_info” (with 30 branches and their information). I have merged it with the original dataset for better information about each branch and their corresponding patrons.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(library_data<span class="sc">$</span>branch)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Main Library"                       "Mission Bay"                       
 [3] "Potrero"                            "Sunset"                            
 [5] "Merced"                             "Noe Valley/Sally Brunn"            
 [7] "Excelsior"                          "Chinatown"                         
 [9] "Richmond"                           "North Beach"                       
[11] "Presidio"                           "Mission"                           
[13] "Park"                               "Marina"                            
[15] "Parkside"                           "Eureka Valley/Harvey Milk Memorial"
[17] "Anza"                               "West Portal"                       
[19] "Ingleside"                          "Bernal Heights"                    
[21] "Portola"                            "Ortega"                            
[23] "Western Addition"                   "Unknown"                           
[25] "Ocean View"                         "Glen Park"                         
[27] "Visitacion Valley"                  "Bayview/Linda Brooks-Burton"       
[29] "Golden Gate Valley"                 "Library on Wheels"                 
[31] "Children's Bookmobile"              "Branch Bookmobile (Sunset)"        
[33] "Branch Bookmobile (West Portal)"    "Branch Bookmobile (Excelsior)"     
[35] "Branch Bookmobile (Marina)"        </code></pre>
</div>
</div>
<p>The above shows the different branches of San Franciso Public Library.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>branch_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'_data/branch_info.csv'</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>branch_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 29 × 4
   branch                             phone_number   address             pincode
   &lt;chr&gt;                              &lt;chr&gt;          &lt;chr&gt;                 &lt;dbl&gt;
 1 Anza                               (415) 355-5717 550 37th Ave. (nea…   94121
 2 Bayview/Linda Brooks-Burton        (415) 355-5757 5075 Third St. (at…   94124
 3 Bernal Heights                     (415) 355-2810 500 Cortland Ave. …   94110
 4 Chinatown                          (415) 355-2888 1135 Powell St. (n…   94108
 5 Eureka Valley/Harvey Milk Memorial (415) 355-5616 1 José Sarria Cour…   94114
 6 Excelsior                          (415) 355-2868 4400 Mission St. (…   94112
 7 Glen Park                          (415) 355-2858 2825 Diamond St. (…   94131
 8 Golden Gate Valley                 (415) 355-5666 1801 Green St. (at…   94123
 9 Ingleside                          (415) 355-2898 1298 Ocean Ave. (a…   94112
10 Main Library                       (415) 557-4400 100 Larkin St. (at…   94102
# … with 19 more rows</code></pre>
</div>
</div>
<p>Joining the branch_data dataset wih the main dataset based on branch name.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(library_data, branch_data, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"branch"</span>))</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>library_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 423,448 × 15
   patron…¹ total…² total…³ age   branch activ…⁴ activ…⁵ notic…⁶ provi…⁷ year_…⁸
   &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;     &lt;dbl&gt;
 1 SENIOR        28      13 65 t… Main … Novemb… 2012    email   TRUE       2003
 2 ADULT         21      10 55 t… Main … October 2015    email   TRUE       2003
 3 ADULT        275     559 60 t… Main … January 2015    email   TRUE       2003
 4 ADULT         73      38 45 t… Missi… Februa… 2016    email   TRUE       2003
 5 ADULT        182      90 45 t… Main … July    2016    email   TRUE       2003
 6 SENIOR         1       0 65 t… Main … July    2004    email   TRUE       2003
 7 DIGITAL…      31       4 65 t… Potre… January 2012    email   TRUE       2003
 8 ADULT        547     177 60 t… Main … July    2016    phone   FALSE      2003
 9 ADULT         28       1 60 t… Main … Decemb… 2015    email   TRUE       2003
10 ADULT         77       3 60 t… Main … July    2016    email   TRUE       2003
# … with 423,438 more rows, 5 more variables: outside_of_county &lt;lgl&gt;,
#   y_m &lt;chr&gt;, phone_number &lt;chr&gt;, address &lt;chr&gt;, pincode &lt;dbl&gt;, and
#   abbreviated variable names ¹​patron_type, ²​total_checkouts, ³​total_renewals,
#   ⁴​active_month, ⁵​active_year, ⁶​notice_preference, ⁷​provided_email,
#   ⁸​year_registered</code></pre>
</div>
</div>
</section>
<section id="data-exploration" class="level3">
<h3 class="anchored" data-anchor-id="data-exploration">Data Exploration</h3>
<p>Now, we will look at the different groups present within the dataset based on the categories/columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>,<span class="at">fill=</span><span class="st">'lightblue'</span>) <span class="sc">+</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of records by Age Range"</span>,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age Range"</span>,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number for Records"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The above plot shows the distribution of records based on age range. We can observe that maximum records in the library system lies for the range of 25 to 34 years followed by 35 to 44 years.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> library_data, <span class="fu">aes</span>(<span class="at">x =</span> patron_type)) <span class="sc">+</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>,<span class="at">fill=</span><span class="st">'lightpink'</span>) <span class="sc">+</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of records by Patron type"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Patron Type"</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number for Records"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The most prominent types of patrons registered in SF Library system are : Adults, Juvenile, Senior, Welcome (guest) and Young Adults.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> library_data, <span class="fu">aes</span>(<span class="at">x =</span> branch)) <span class="sc">+</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>,<span class="at">fill=</span><span class="st">'lightyellow'</span>) <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of records by branches"</span>,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Branches"</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number for Records"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The maximum patrons where registered at the MAIN Library, which makes sense, as the main branch generally has most books and is most accessible to the people.</p>
</section>
<section id="data-statistics" class="level3">
<h3 class="anchored" data-anchor-id="data-statistics">Data Statistics</h3>
<p>The two main continuous columns of this dataset are : Total Renewals and Total Checkouts made by the patrons. The statistics for which are present below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(library_data<span class="sc">$</span>total_checkouts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0       2      19     162     113   35907 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(library_data<span class="sc">$</span>total_renewals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.00    0.00    2.00   59.66   27.00 8965.00 </code></pre>
</div>
</div>
</section>
</section>
<section id="visualizations" class="level2">
<h2 class="anchored" data-anchor-id="visualizations">VISUALIZATIONS</h2>
<section id="year-of-registration-by-age-range" class="level3">
<h3 class="anchored" data-anchor-id="year-of-registration-by-age-range">Year of Registration by Age Range</h3>
<p>Firstly, we will analyze the trend of “year when patrons registered” with the “Age Range”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">group=</span>age, <span class="at">fill=</span>age)) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">adjust=</span><span class="fl">1.5</span>, <span class="at">alpha=</span>.<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Year of Registration by Age Range"</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year of Registry"</span>,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of patrons registered"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As expected patrons with ages 60 and higher have been registered since 2003. We can see that the young children from the age of 0-9 years have started registering since 2012, which shows they are curious readers or their parents would’ve enrolled them to read books and gain information.</p>
</section>
<section id="total-checkouts-and-renewals-by-age-range" class="level3">
<h3 class="anchored" data-anchor-id="total-checkouts-and-renewals-by-age-range">Total Checkouts and Renewals by Age Range</h3>
<p>Now, we will look into the two important columns total_checkouts and total_renewals for each category of patrons and different age groups to get an idea of the circulation of the books.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">%&gt;%</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age,<span class="at">y=</span>total_checkouts)) <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"sum"</span>,<span class="at">fill=</span><span class="st">'lightpink'</span>) <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Checkouts by Age Range"</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age Range"</span>,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total number of checkouts"</span>) <span class="sc">+</span><span class="fu">coord_flip</span>()<span class="sc">+</span><span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The majority of checkouts in the SF libraries were made by ages: 65 to 74 years followed by 45-54 years and the young readers 10-19 years.This shows us that the every generation is interested in reading books.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> library_data, <span class="fu">aes</span>(<span class="at">x =</span> age,<span class="at">y=</span>total_renewals)) <span class="sc">+</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"sum"</span>,<span class="at">fill=</span><span class="st">'lightblue'</span>) <span class="sc">+</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Renewals by Age Range"</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age Range"</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total number of Renewals"</span>) <span class="sc">+</span><span class="fu">coord_flip</span>()<span class="sc">+</span><span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The majority of renewals on the other hand were made by 45-54 years followed by 65-74 years. We can observe using the above two trends that 45-54 and 65-74 years age gaps show maximum engagement and have issued and renewed majority of books as compared to others.</p>
</section>
<section id="total-checkouts-and-renewals-by-patron-types" class="level3">
<h3 class="anchored" data-anchor-id="total-checkouts-and-renewals-by-patron-types">Total Checkouts and Renewals by Patron Types</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>patron_type, <span class="at">y=</span>total_checkouts)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">color =</span> <span class="st">"tomato"</span>)<span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Checkouts by Patron type"</span>,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Patron type"</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total number of Checkouts"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The majority of checkouts were made by ADULTS and SENIORS as compared to other types of patrons, which validates our theory above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>patron_type, <span class="at">y=</span>total_renewals)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">color =</span> <span class="st">"tomato"</span>)<span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Renewals by Patron type"</span>,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Patron type"</span>,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total number of Renewals"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The renewals here show that even though ADULTS and SENIORS had maximum renewals, there were significant renewals by YOUNG ADULTS, JUVENILE and STAFF members as well.</p>
</section>
<section id="checkouts-and-renewals---a-trend" class="level3">
<h3 class="anchored" data-anchor-id="checkouts-and-renewals---a-trend">Checkouts and Renewals - A trend</h3>
<p>As, seen the “Total Checkouts” and “Total Renewals” follow a similar trend, let us analyze them in with the year of registry.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>filtered <span class="ot">&lt;-</span> library_data <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year_registered) <span class="sc">%&gt;%</span>                    <span class="co"># group by</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">check =</span> <span class="fu">mean</span>(total_checkouts), <span class="at">rene =</span> <span class="fu">mean</span>(total_renewals)) </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> filtered, <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">y=</span>check),<span class="at">arrow =</span> <span class="fu">arrow</span>(), <span class="at">color=</span><span class="st">"#69b3a2"</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">color=</span><span class="st">"#69b3a2"</span>)<span class="sc">+</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Checkouts by Year of Registry"</span>,</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="st">"Year Registered"</span>,</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="st">"Average number of Checkouts"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>myarrow<span class="ot">=</span><span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">ends =</span> <span class="st">"both"</span>, <span class="at">type =</span> <span class="st">"closed"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>filtered <span class="ot">&lt;-</span> library_data <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year_registered) <span class="sc">%&gt;%</span>                    <span class="co"># group by</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">check =</span> <span class="fu">mean</span>(total_checkouts), <span class="at">rene =</span> <span class="fu">mean</span>(total_renewals)) </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> filtered, <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">y=</span>rene),<span class="at">arrow =</span> <span class="fu">arrow</span>(), <span class="at">color=</span><span class="st">"lightblue"</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">color=</span><span class="st">"lightblue"</span>)<span class="sc">+</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Renewals by Year of Registry"</span>,</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="st">"Year Registered"</span>,</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="st">"Average number of Renewals"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>myarrow<span class="ot">=</span><span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">ends =</span> <span class="st">"both"</span>, <span class="at">type =</span> <span class="st">"closed"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The values of checkouts and renewals have been declining over the years, having been at its highest in 2003 and being the lowest in value by 2016. There was a slight increase in 2007 but was not much significant. This totally makes sense, as the people who registered way before had more time, thus, more checkouts and subscriptions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(active_year<span class="sc">!=</span><span class="st">'None'</span>)<span class="sc">%&gt;%</span><span class="co"># data                 </span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(active_year) <span class="sc">%&gt;%</span>                   </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">y =</span> <span class="fu">mean</span>(total_checkouts)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>active_year, <span class="at">y=</span>y, <span class="at">group=</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">arrow =</span> <span class="fu">arrow</span>(),<span class="at">color=</span><span class="st">"#D55E00"</span>, <span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">"#D55E00"</span>, <span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Checkouts by Active Year"</span>,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="st">"Active Year (Last year of activity)"</span>,</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="st">"Average number of Checkouts"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>myarrow<span class="ot">=</span><span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">ends =</span> <span class="st">"both"</span>, <span class="at">type =</span> <span class="st">"closed"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(active_year<span class="sc">!=</span><span class="st">'None'</span>)<span class="sc">%&gt;%</span><span class="co"># data                 </span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(active_year) <span class="sc">%&gt;%</span>                    <span class="co"># group by</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">y =</span> <span class="fu">mean</span>(total_renewals)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>active_year, <span class="at">y=</span>y, <span class="at">group=</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">arrow =</span> <span class="fu">arrow</span>(),<span class="at">color=</span><span class="st">'#E69F00'</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">'#E69F00'</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Renewals by Active Year"</span>,</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="st">"Active Year (Last year of activity)"</span>,</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="st">"Average number of Renewals"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>myarrow<span class="ot">=</span><span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">ends =</span> <span class="st">"both"</span>, <span class="at">type =</span> <span class="st">"closed"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The Checkouts and renewals value is increasing significantly from year to year and the highest value was in 2016. This basically shows us the trend about how people are issuing more and more books moving forward.</p>
<p>As, seen Total renewals and Total Checkouts clearly follow similar trends, let us confirm their correlation using a plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(library_data<span class="sc">$</span>total_checkouts, library_data<span class="sc">$</span>total_renewals, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">"lightblue"</span>,<span class="at">xlab=</span><span class="st">"Total Checkouts"</span>, <span class="at">ylab=</span><span class="st">"Total Renewals"</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression line</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="fu">lm</span>( library_data<span class="sc">$</span>total_renewals <span class="sc">~</span> library_data<span class="sc">$</span>total_checkouts), <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd =</span> <span class="dv">3</span>)</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Pearson correlation</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fu">paste</span>(<span class="st">"Correlation:"</span>, <span class="fu">round</span>(<span class="fu">cor</span>(library_data<span class="sc">$</span>total_checkouts,  library_data<span class="sc">$</span>total_renewals), <span class="dv">2</span>)),<span class="at">x=</span><span class="dv">30000</span>,<span class="at">y=</span><span class="dv">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The plot suggests a strong correlation between total checkouts and total renewals with a pearson coefficient of 0.59 ~ 0.6.</p>
</section>
<section id="total-checkouts-by-month-for-year-2016" class="level3">
<h3 class="anchored" data-anchor-id="total-checkouts-by-month-for-year-2016">Total Checkouts by Month for year 2016</h3>
<p>As, this dataset provides information about monthly checkouts and renewals, we will look at monthly charts for last year in the records i.e.&nbsp;2016, to understand what trends have been lately.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(active_year<span class="sc">==</span><span class="st">'2016'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> y_m, <span class="at">fill =</span> total_checkouts)) <span class="sc">+</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>( <span class="at">fill=</span><span class="st">"#404080"</span>, <span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">stat =</span> <span class="st">"count"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>), <span class="at">legend.position =</span> <span class="st">"none"</span>)<span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Total Checkouts by Month for year 2016"</span>, <span class="at">y=</span><span class="st">"Total Checkouts"</span>,<span class="at">x=</span><span class="st">"month"</span>)<span class="sc">+</span><span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="trends-of-age-range-and-patron-type-for-july-2016" class="level3">
<h3 class="anchored" data-anchor-id="trends-of-age-range-and-patron-type-for-july-2016">Trends of Age Range and Patron Type for July 2016</h3>
<p>The histogram suggests the majority of checkouts occurred in month of July followed by June. Looking closely into July data, to understand the distribution of Total Checkouts by Age and Patron type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>filter_data <span class="ot">&lt;-</span> library_data <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(y_m <span class="sc">==</span><span class="st">'2016 July'</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>filter_data <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(filter_data<span class="sc">$</span>total_checkouts, <span class="at">by=</span><span class="fu">list</span>(<span class="at">Age_Range=</span>filter_data<span class="sc">$</span>age), <span class="at">FUN=</span>mean)</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>filter_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Age_Range        x
1       0 to 9 years 300.2186
2     10 to 19 years 598.0791
3     20 to 24 years 283.6111
4     25 to 34 years 162.1240
5     35 to 44 years 347.6696
6     45 to 54 years 588.2905
7     55 to 59 years 736.5017
8     60 to 64 years 758.1687
9     65 to 74 years 755.9043
10 75 years and over 757.8021</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> filter_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> x, <span class="at">fill =</span> Age_Range)) <span class="sc">+</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>)<span class="sc">+</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Total Checkouts by Age Range"</span>)<span class="sc">+</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Paired"</span>)<span class="sc">+</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid  =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">""</span>, <span class="at">y=</span><span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The pie chart shows the major contributions of checkouts in July 2016 were made by ages 45 years and above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>co <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#FFDB6D"</span>, <span class="st">"#C4961A"</span>, <span class="st">"#F4EDCA"</span>, </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>                <span class="st">"#D16103"</span>, <span class="st">"#C3D7A4"</span>, <span class="st">"#52854C"</span>, <span class="st">"#4E84C4"</span>, <span class="st">"#293352"</span>,<span class="st">"#000000"</span>, <span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span>, <span class="st">"#009E73"</span>,</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"#F0E442"</span>, <span class="st">"#0072B2"</span>, <span class="st">"#D55E00"</span>, <span class="st">"#CC79A7"</span>,<span class="st">"#999999"</span>)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>filter_data <span class="ot">&lt;-</span> library_data <span class="sc">%&gt;%</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(y_m <span class="sc">==</span><span class="st">'2016 July'</span>)</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>filter_data <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(filter_data<span class="sc">$</span>total_checkouts, <span class="at">by=</span><span class="fu">list</span>(<span class="at">Patron_Types=</span>filter_data<span class="sc">$</span>patron_type), <span class="at">FUN=</span>mean)</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>filter_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Patron_Types           x
1                ADULT  449.280391
2        AT USER ADULT  641.735849
3     AT USER JUVENILE  345.571429
4       AT USER SENIOR  381.363636
5         AT USER TEEN  740.000000
6        BOOKS BY MAIL  891.720000
7  DIGITAL ACCESS CARD    2.142857
8     FRIENDS FOR LIFE  760.545455
9             JUVENILE  369.018302
10       RETIRED STAFF 1443.379747
11              SENIOR  756.174221
12             SPECIAL  655.713615
13               STAFF 1226.017953
14        TEACHER CARD  159.995708
15             VISITOR   18.781250
16             WELCOME    9.240132
17         YOUNG ADULT  645.511378</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> filter_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> x, <span class="at">fill =</span> Patron_Types)) <span class="sc">+</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>)<span class="sc">+</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Total Checkouts by Patrons type"</span>)<span class="sc">+</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>co)<span class="sc">+</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid  =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">""</span>, <span class="at">y=</span><span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The pie chart suggests major contributions in July 2016 for checkout were made by Retired Staff and Staff members.</p>
</section>
<section id="notice-preference-by-locationpincode" class="level3">
<h3 class="anchored" data-anchor-id="notice-preference-by-locationpincode">Notice preference by location(pincode)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(pincode<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(notice_preference,pincode) <span class="sc">%&gt;%</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>                <span class="fu">group_by</span>(notice_preference,pincode) <span class="sc">%&gt;%</span> </span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>                <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">reorder</span>(pincode, n), n, <span class="at">fill =</span> notice_preference)) <span class="sc">+</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span> </span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>                <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>                <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>)<span class="sc">+</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>                <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Notification preference by Pincode"</span>, <span class="at">fill =</span> <span class="st">"Notice Prefernce"</span>,<span class="at">x=</span><span class="st">'pincodes'</span>,<span class="at">y=</span><span class="st">'Number of records'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This plot suggests, most patrons prefer emails as the notice preference, and most of the patrons are registered in pincode 94102. Examining the data based on the most popular pincode - “924102”, which will give us trends about area nearby.</p>
</section>
<section id="checkouts-for-prominent-pincode-by-patron-types-and-age-ranges" class="level3">
<h3 class="anchored" data-anchor-id="checkouts-for-prominent-pincode-by-patron-types-and-age-ranges">Checkouts for prominent pincode by Patron Types and Age Ranges</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pincode <span class="sc">==</span><span class="st">'94102'</span> <span class="sc">&amp;</span> age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y=</span>patron_type, <span class="at">size =</span> total_checkouts)) <span class="sc">+</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Checkouts by Patron Types and Age Ranges"</span>,<span class="at">x=</span><span class="st">'Age Range'</span>,<span class="at">y=</span><span class="st">'Patron Type'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can observe major activity for pincode 94102, were made by ADULTS of age 45-54 years and 54-59 years,SENIORS of 64-74 years. There are also a few checkouts by STAFF members with ages 0-9 years, which looks suspicious.</p>
</section>
<section id="year-of-patron-registration-by-branches" class="level3">
<h3 class="anchored" data-anchor-id="year-of-patron-registration-by-branches">Year of Patron Registration by Branches</h3>
<p>The plots show how many patrons registered in each year for each branch location.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bottom Left</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(library_data, <span class="fu">aes</span>(<span class="at">x=</span>branch, <span class="at">y=</span>year_registered, <span class="at">fill=</span>branch)) <span class="sc">+</span> </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha=</span><span class="fl">0.3</span>)<span class="sc">+</span> <span class="fu">coord_flip</span>()  <span class="sc">+</span>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>),<span class="at">legend.position=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title=</span><span class="st">'Year of Patron Registration by Branches'</span>,<span class="at">x=</span><span class="st">'Year Registered'</span>,<span class="at">y=</span><span class="st">'Branch'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There is an interesting observation in Children’s Bookmobile Branch, while most registries of patrons were towards 2012, there was one registry in 2003 (which can be seen as an outlier).</p>
</section>
<section id="analysis-for-residents-and-non-residents" class="level3">
<h3 class="anchored" data-anchor-id="analysis-for-residents-and-non-residents">Analysis for Residents and Non-Residents</h3>
<p>There is also an important column “outside_of_county” which shows the patrons outside of San Franciso. Let us analyze some trends related to the column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span><span class="fu">ggplot</span>(<span class="fu">aes</span>(total_checkouts , outside_of_county)) <span class="sc">+</span><span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">color=</span>outside_of_county))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Total Checkouts by Patrongs Outside and In County"</span>, <span class="at">x=</span><span class="st">'Outside of County'</span>,<span class="at">y=</span><span class="st">'Total Checkouts'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The plot suggests, most of the patrons are present in SF itself. Also, total checkouts for a few patrons in SF cross over 20k as well.</p>
</section>
<section id="different-patron-types-by-year-of-registery-and-their-residence." class="level3">
<h3 class="anchored" data-anchor-id="different-patron-types-by-year-of-registery-and-their-residence.">Different Patron types by year of registery and their residence.</h3>
<p>This shows density of patrons based on the year of registration of different types of patrons residing in and out of San Franciso.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using Small multiple</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>library_data, <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">group=</span>outside_of_county, <span class="at">fill=</span>outside_of_county)) <span class="sc">+</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">adjust=</span><span class="fl">1.5</span>,<span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>patron_type) <span class="sc">+</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">"lines"</span>),</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>    )<span class="sc">+</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Patron density based on year of registration, patron type and residency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="different-age-range-by-year-of-registery-and-their-residence." class="level3">
<h3 class="anchored" data-anchor-id="different-age-range-by-year-of-registery-and-their-residence.">Different Age Range by year of registery and their residence.</h3>
<p>This shows density of patrons based on the year of registration for different age groups residing in and out of San Franciso.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using Small multiple</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">%&gt;%</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">group=</span>outside_of_county, <span class="at">fill=</span>outside_of_county)) <span class="sc">+</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">adjust=</span><span class="fl">1.5</span>, <span class="at">alpha=</span>.<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>age) <span class="sc">+</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="fl">0.9</span>, <span class="st">"lines"</span>),</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>()</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>    )<span class="sc">+</span></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Patron density based on year of registration, age range and residency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PrajaktiKapade_Final_Project_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="reflection" class="level2">
<h2 class="anchored" data-anchor-id="reflection">REFLECTION</h2>
<p>This project and working with R has been a learning experience for me as I am a Computer Science student. While starting this project, I thought maybe the San Franciso Library Usage dataset would be very concise, but as I kept diving into the dataset, I realized it has so much information about patrons, the library branches, the age groups and their contributions to checkouts and renewals of books. The Integrated library management dataset gave me some interesting findings.</p>
<p>My strategy was to understand how each category(column) is affecting the checkouts and renewals, and then if any interesting observation was seen, I would move forward with digging in more in that direction. For eg: I looked into 2016’s data per month and found that July had the most checkouts. I dived in to the July 2016’s data to understand who made those checkouts? Which age range and patron type contributed the most to it? This approach made the visualization making process very intriguing for me.</p>
<p>The dataset had a lot of records, but to incorporate more information on branches I searched through the SF public library website and manually loaded the data to a csv, which I then incorporated in the main dataset. Challenging part was to understand what different fields mean, specially what different year values signify? Also, understanding from whose point of view is this data made and whats the timeline?</p>
<p>I tried to learn, have fun with it, and incorporate all types of plots, specially histograms, density plots and facet_wrap which made it easier to see observations. If we had more information about the data from other parts of California or USA, I could have found trends for a much higher population using these visualizations. Also, we need more information about the branches, as only geographical information was available on the website. Apart from that, some information about the different categories of books, which age groups like which categories more, that would be an interesting research to do.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">CONCLUSION</h2>
<p>Starting from the basics, there were 10 Age ranges varying over 17 Patron Types, 34 branches and over 4 lakh records. The dataset gave me insights about which Age Range is making the most checkouts and renewals - and it was inspiring to figure out that 10-19, 45-54 and 65-74 age ranges had the maximum checkouts, this implies all generations are interested in issuing books and reading them, which is a great habit. I also noticed that ADULTS and SENIORS had the highest checkouts and renewals, which means they take some time reading it or re-read it, by renewing the books. Comparatively, there are also high renewals for YOUNG ADULTS, students generally tend to issue some books for studying and end up renewing them.</p>
<p>It was very clear, that checkouts and renewals were strong correlated, which does make sense intuitively. I showed it using the pearson coefficient in our code above. The plots also reflected that the checkouts and renewals have increased over time, that means people are getting more and more interested in issuing and reading books. Another trend, I noted was related to “Year of Registry” and “Average Checkouts/Average Renewals”, which should intuitively follow a decreasing trend (as people who registered earlier will definitely have more checkouts due to more time), but there was a slight increase in 2007, so that was definitely an anomaly.</p>
<p>For finding a general trend, I looked into 2016’s data per month (as it was the last recorded year in the dataset) and found that July had the most checkouts. I dived into the July 2016 data and figured they were majorly made by patrons of age 45 and above, and most of them were Staff members or Retired staff. One reason for this could be the holiday season for students, as they do not contribute much towards the checkouts.</p>
<p>I also figured that, most patrons prefer EMAIL as their preference of notice and based on the pincodes of branches, “94102” is the most popular pincode for checkouts and renewals. On looking in more detail about the pincode “94102”, I figured most checkouts in that area were made by ADULTS of age 45-54 years and 54-59 years and SENIORS of 64-74 years. There are also a few checkouts by STAFF members with ages 0-9 years, which is weird.</p>
<p>There are some patrons who reside outside the SF county, but they are lesser in numbers than the ones in SF. The registry with SF Public library over the years for people residing in and out of the county can be seen the graphs above, they have been grouped by Age Range and Patron Types.</p>
<p>After so many observations, we still do not know how Age Ranges and Patron Types are related, and will need some more information about them. Also, how are different branches related to each other? Do they share some books? Some more information can lead to better observations and analysis, but all these visualizations on our dataset, were definitely insightful and enlightened me about the SF Integrated Library System.</p>
</section>
<section id="bibliography" class="level2">
<h2 class="anchored" data-anchor-id="bibliography">BIBLIOGRAPHY</h2>
<p>RStudio Team (2022). RStudio: Integrated Development Environment for R. RStudio, PBC, Boston, MA, http://www.rstudio.com/.</p>
<p>Wickham, H., François, R., Henry, L., &amp; Müller, K. (n.d.). Programming with dplyr. dplyr. https://dplyr.tidyverse.org/articles/programming.html</p>
<p>Wickham, H. &amp; Grolemund, G. (n.d.). R for data science [eBook edition]. O’Reilly. https://r4ds.had.co.nz/index.html</p>
<p>Wickham et al.&nbsp;(2019). Welcome to the tidyverse. Journal of Open Source Software, 4(43), 1686. https://doi.org/10.21105/joss.01686</p>
<p>Source of Dataset : https://www.kaggle.com/datasets/datasf/sf-library-usage-data</p>
<p>https://data.sfgov.org/Culture-and-Recreation/Library-Usage/qzz6-2jup</p>
<p>SF Public Library Website : https://sfpl.org/</p>
<p>Branch Information : https://sfpl.org/locations/#!/filters?sort_by=weight&amp;sort_order=ASC&amp;page=2</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/601_Fall_2022" data-repo-id="R_kgDOH564Gw" data-category="Announcements" data-category-id="DIC_kwDOH564G84CRdBB" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb71" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "SF Library Usage Analysis"</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Prajakti Kapade"</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Final Project"</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "12/17/2022"</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a><span class="fu">## INTRODUCTION</span></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>Prior to computerization, library tasks were performed manually and independently from one another. Selectors ordered materials with ordering slips, cataloguers manually catalogued sources and indexed them with the card catalog system (in which all bibliographic data was kept on a single index card), fines were collected by local bailiffs, and users signed books out manually, indicating their name on clue cards which were then kept at the circulation desk. </span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>Early mechanization came in 1936, when the University of Texas began using a punch card system to manage library circulation. While the punch card system allowed for more efficient tracking of loans, library services were far from being integrated, and no other library task was affected by this change. This led to customer dissatisfaction and they wanted to move towards a very systematic way of keeping track, then came in Integrated Library systems, one example of which is my dataset for the final project.</span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>This system is perfect for all educational institutions that wish to maintain minimum operational costs. The system helps with better management, lesser wastage of time and improves engagement and productivity. With this data, we can analyze the trends about different patrons based on their age, based on the registered year, their renewals and checkouts, and see the circulation trend.</span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a>Installing and importing necessary packages</span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("hrbrthemes")</span></span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("viridis")</span></span>
<span id="cb71-27"><a href="#cb71-27" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages('patchwork')</span></span>
<span id="cb71-28"><a href="#cb71-28" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages('zoo')</span></span>
<span id="cb71-29"><a href="#cb71-29" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages('directlabels')</span></span>
<span id="cb71-30"><a href="#cb71-30" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-31"><a href="#cb71-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-34"><a href="#cb71-34" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-35"><a href="#cb71-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb71-36"><a href="#cb71-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb71-37"><a href="#cb71-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb71-38"><a href="#cb71-38" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb71-39"><a href="#cb71-39" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb71-40"><a href="#cb71-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb71-41"><a href="#cb71-41" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb71-42"><a href="#cb71-42" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggbeeswarm)</span>
<span id="cb71-43"><a href="#cb71-43" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb71-44"><a href="#cb71-44" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(directlabels)</span>
<span id="cb71-45"><a href="#cb71-45" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span>
<span id="cb71-46"><a href="#cb71-46" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-47"><a href="#cb71-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-48"><a href="#cb71-48" aria-hidden="true" tabindex="-1"></a><span class="fu">## DATA</span></span>
<span id="cb71-49"><a href="#cb71-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-50"><a href="#cb71-50" aria-hidden="true" tabindex="-1"></a><span class="fu">### Loading the dataset</span></span>
<span id="cb71-51"><a href="#cb71-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-52"><a href="#cb71-52" aria-hidden="true" tabindex="-1"></a>The dataset - SF Integrated Learning System is sourced from Kaggle.com and is composed of bibliographic records including inventoried items, patron records, and circulation data. The data is used in the daily operation of the library, including circulation, online public catalog, cataloging, acquisitions, collection development, processing, and serials control. This dataset represents the usage of inventoried items by patrons (~420K records). It contains data starting from 2003 uptill 2016.</span>
<span id="cb71-53"><a href="#cb71-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-56"><a href="#cb71-56" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-57"><a href="#cb71-57" aria-hidden="true" tabindex="-1"></a>library_dataset <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/Library_Usage.csv"</span>)</span>
<span id="cb71-58"><a href="#cb71-58" aria-hidden="true" tabindex="-1"></a>library_dataset</span>
<span id="cb71-59"><a href="#cb71-59" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-60"><a href="#cb71-60" aria-hidden="true" tabindex="-1"></a><span class="fu">### Summary of the dataset</span></span>
<span id="cb71-63"><a href="#cb71-63" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-64"><a href="#cb71-64" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(library_dataset)</span>
<span id="cb71-65"><a href="#cb71-65" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-66"><a href="#cb71-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-67"><a href="#cb71-67" aria-hidden="true" tabindex="-1"></a>The dataset contains 423448 records and 15 columns.</span>
<span id="cb71-68"><a href="#cb71-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-71"><a href="#cb71-71" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-72"><a href="#cb71-72" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(library_dataset)</span>
<span id="cb71-73"><a href="#cb71-73" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-74"><a href="#cb71-74" aria-hidden="true" tabindex="-1"></a>The above shows the columns of the dataset along with their datatype and the initial recordings of that particular columns. The distinct data types are : dbl - double/real number values, chr - characters and lgl - for boolean values.</span>
<span id="cb71-75"><a href="#cb71-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-76"><a href="#cb71-76" aria-hidden="true" tabindex="-1"></a>The columns and their description are as follows:</span>
<span id="cb71-77"><a href="#cb71-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-78"><a href="#cb71-78" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`Patron Type Code`</span>- Type of patron record (adult, teen, child, senior, etc.)</span>
<span id="cb71-79"><a href="#cb71-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-80"><a href="#cb71-80" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span><span class="in">`Patron Type Definition`</span> - Description of patron (adult, teen, child, senior, etc.).</span>
<span id="cb71-81"><a href="#cb71-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-82"><a href="#cb71-82" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span><span class="in">`Total Checkouts`</span>- Total number of items the patron has checked out from the library since the record was created.</span>
<span id="cb71-83"><a href="#cb71-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-84"><a href="#cb71-84" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span><span class="in">`Total Renewals`</span> - Total number of times the patron has renewed checked-out items.</span>
<span id="cb71-85"><a href="#cb71-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-86"><a href="#cb71-86" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span><span class="in">`Age Range`</span>- Contains age ranges</span>
<span id="cb71-87"><a href="#cb71-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-88"><a href="#cb71-88" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span><span class="in">`Home Library Code`</span>- Default value indicates the branch library where the patron was originally registered.</span>
<span id="cb71-89"><a href="#cb71-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-90"><a href="#cb71-90" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span><span class="in">`Home Library Definition`</span> - Description of the branch library where the patron was originally registered.</span>
<span id="cb71-91"><a href="#cb71-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-92"><a href="#cb71-92" aria-hidden="true" tabindex="-1"></a><span class="ss">8. </span><span class="in">`Circulation Active Month`</span> - Year the patron last checked out library materials, or last logged into the library’s subscription databases.</span>
<span id="cb71-93"><a href="#cb71-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-94"><a href="#cb71-94" aria-hidden="true" tabindex="-1"></a><span class="ss">9. </span><span class="in">`Circulation Active Year`</span> - Month the patron last checked out library materials, or last logged into the library’s subscription databases.</span>
<span id="cb71-95"><a href="#cb71-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-96"><a href="#cb71-96" aria-hidden="true" tabindex="-1"></a><span class="ss">10. </span><span class="in">`Notice Preference Code`</span>- This field is used to indicate the patron’s preferred method of receiving library notices.</span>
<span id="cb71-97"><a href="#cb71-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-98"><a href="#cb71-98" aria-hidden="true" tabindex="-1"></a><span class="ss">11. </span><span class="in">`Notice Preference Definition`</span>- Description of the patron’s preferred method of receiving library notices.</span>
<span id="cb71-99"><a href="#cb71-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-100"><a href="#cb71-100" aria-hidden="true" tabindex="-1"></a><span class="ss">12. </span><span class="in">`Provided Email Address`</span> - Indicates if the patron has provided email address or not.</span>
<span id="cb71-101"><a href="#cb71-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-102"><a href="#cb71-102" aria-hidden="true" tabindex="-1"></a><span class="ss">13. </span><span class="in">`Year Patron Registered`</span>- Year patron registered with library system. No dates prior to 2003  due to system migration.</span>
<span id="cb71-103"><a href="#cb71-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-104"><a href="#cb71-104" aria-hidden="true" tabindex="-1"></a><span class="ss">14. </span><span class="in">`Outside of County`</span> - If a patron's home address is not in San Francisco, then flagged as true, otherwise false.</span>
<span id="cb71-105"><a href="#cb71-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-106"><a href="#cb71-106" aria-hidden="true" tabindex="-1"></a><span class="ss">15. </span><span class="in">`Supervisor District`</span> - Based on patron address: San Francisco Supervisor District. Based on the website it suggested that "This is an automated field, please note that if "Outside of County" is true, then there will be no supervisor district. Also, if the input address was not well-formed, the supervisor district will be blank."</span>
<span id="cb71-107"><a href="#cb71-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-108"><a href="#cb71-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-109"><a href="#cb71-109" aria-hidden="true" tabindex="-1"></a><span class="fu">### Renaming the columns</span></span>
<span id="cb71-112"><a href="#cb71-112" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-113"><a href="#cb71-113" aria-hidden="true" tabindex="-1"></a>library_dataset <span class="ot">&lt;-</span> library_dataset <span class="sc">%&gt;%</span> </span>
<span id="cb71-114"><a href="#cb71-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>( <span class="st">'out_of_county'</span> <span class="ot">=</span> <span class="st">'Outside of County'</span>, <span class="st">"patron_type"</span> <span class="ot">=</span> <span class="st">'Patron Type Definition'</span>, <span class="st">"total_checkouts"</span> <span class="ot">=</span> <span class="st">'Total Checkouts'</span>, <span class="st">"total_renewals"</span><span class="ot">=</span> <span class="st">'Total Renewals'</span>, <span class="st">'age'</span> <span class="ot">=</span> <span class="st">'Age Range'</span>, <span class="st">'branch'</span> <span class="ot">=</span> <span class="st">'Home Library Definition'</span>,<span class="st">'active_year'</span> <span class="ot">=</span> <span class="st">'Circulation Active Year'</span>, <span class="st">'active_month'</span> <span class="ot">=</span> <span class="st">'Circulation Active Month'</span>, <span class="st">'notice_preference'</span> <span class="ot">=</span> <span class="st">'Notice Preference Definition'</span>, <span class="st">'provided_email'</span> <span class="ot">=</span> <span class="st">'Provided Email Address'</span>, <span class="st">'year_registered'</span> <span class="ot">=</span> <span class="st">'Year Patron Registered'</span>, <span class="st">"outside_of_county"</span> <span class="ot">=</span> <span class="st">'Outside of County'</span>)</span>
<span id="cb71-115"><a href="#cb71-115" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-116"><a href="#cb71-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-117"><a href="#cb71-117" aria-hidden="true" tabindex="-1"></a><span class="fu">### Cleaning the dataset </span></span>
<span id="cb71-118"><a href="#cb71-118" aria-hidden="true" tabindex="-1"></a>Selected the columns with unique characteristic for our visualizations and analysis. Some columns contain the code for the definition example : Home Library Code is the subsequent code for the Home Library Definition.</span>
<span id="cb71-121"><a href="#cb71-121" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-122"><a href="#cb71-122" aria-hidden="true" tabindex="-1"></a>library_data <span class="ot">&lt;-</span> library_dataset<span class="sc">%&gt;%</span></span>
<span id="cb71-123"><a href="#cb71-123" aria-hidden="true" tabindex="-1"></a>                <span class="fu">select</span>(patron_type,total_checkouts,total_renewals,age,branch,active_month,active_year,notice_preference,provided_email,year_registered,outside_of_county)</span>
<span id="cb71-124"><a href="#cb71-124" aria-hidden="true" tabindex="-1"></a>library_data</span>
<span id="cb71-125"><a href="#cb71-125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-128"><a href="#cb71-128" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-129"><a href="#cb71-129" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">$</span>y_m <span class="ot">&lt;-</span> <span class="fu">paste</span>(library_data<span class="sc">$</span>active_year,library_data<span class="sc">$</span>active_month)</span>
<span id="cb71-130"><a href="#cb71-130" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-131"><a href="#cb71-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-132"><a href="#cb71-132" aria-hidden="true" tabindex="-1"></a><span class="fu">### Loading the branch information</span></span>
<span id="cb71-133"><a href="#cb71-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-134"><a href="#cb71-134" aria-hidden="true" tabindex="-1"></a>The dataset mentions the names of different branches of SF Public Library along with their code, but it does not give us any more information about these branches. I extracted some data about the branches from the public library website : https://sfpl.org/locations/#!/filters?sort_by=weight&amp;sort_order=ASC&amp;page=2 and created my own dataset "branch_info" (with 30 branches and their information). I have merged it with the original dataset for better information about each branch and their corresponding patrons.</span>
<span id="cb71-135"><a href="#cb71-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-138"><a href="#cb71-138" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-139"><a href="#cb71-139" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(library_data<span class="sc">$</span>branch)</span>
<span id="cb71-140"><a href="#cb71-140" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-141"><a href="#cb71-141" aria-hidden="true" tabindex="-1"></a>The above shows the different branches of San Franciso Public Library.</span>
<span id="cb71-142"><a href="#cb71-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-145"><a href="#cb71-145" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-146"><a href="#cb71-146" aria-hidden="true" tabindex="-1"></a>branch_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'_data/branch_info.csv'</span>)</span>
<span id="cb71-147"><a href="#cb71-147" aria-hidden="true" tabindex="-1"></a>branch_data</span>
<span id="cb71-148"><a href="#cb71-148" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-149"><a href="#cb71-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-150"><a href="#cb71-150" aria-hidden="true" tabindex="-1"></a>Joining the branch_data dataset wih the main dataset based on branch name.</span>
<span id="cb71-153"><a href="#cb71-153" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-154"><a href="#cb71-154" aria-hidden="true" tabindex="-1"></a>library_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(library_data, branch_data, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"branch"</span>))</span>
<span id="cb71-155"><a href="#cb71-155" aria-hidden="true" tabindex="-1"></a>library_data</span>
<span id="cb71-156"><a href="#cb71-156" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-157"><a href="#cb71-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-158"><a href="#cb71-158" aria-hidden="true" tabindex="-1"></a><span class="fu">### Data Exploration</span></span>
<span id="cb71-159"><a href="#cb71-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-160"><a href="#cb71-160" aria-hidden="true" tabindex="-1"></a>Now, we will look at the different groups present within the dataset based on the categories/columns.</span>
<span id="cb71-163"><a href="#cb71-163" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-164"><a href="#cb71-164" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">%&gt;%</span></span>
<span id="cb71-165"><a href="#cb71-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb71-166"><a href="#cb71-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb71-167"><a href="#cb71-167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb71-168"><a href="#cb71-168" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>,<span class="at">fill=</span><span class="st">'lightblue'</span>) <span class="sc">+</span></span>
<span id="cb71-169"><a href="#cb71-169" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of records by Age Range"</span>,</span>
<span id="cb71-170"><a href="#cb71-170" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age Range"</span>,</span>
<span id="cb71-171"><a href="#cb71-171" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number for Records"</span>)</span>
<span id="cb71-172"><a href="#cb71-172" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-173"><a href="#cb71-173" aria-hidden="true" tabindex="-1"></a>The above plot shows the distribution of records based on age range. We can observe that maximum records in the library system lies for the range of 25 to 34 years followed by 35 to 44 years.</span>
<span id="cb71-174"><a href="#cb71-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-177"><a href="#cb71-177" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-178"><a href="#cb71-178" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> library_data, <span class="fu">aes</span>(<span class="at">x =</span> patron_type)) <span class="sc">+</span></span>
<span id="cb71-179"><a href="#cb71-179" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb71-180"><a href="#cb71-180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>,<span class="at">fill=</span><span class="st">'lightpink'</span>) <span class="sc">+</span></span>
<span id="cb71-181"><a href="#cb71-181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of records by Patron type"</span>,</span>
<span id="cb71-182"><a href="#cb71-182" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Patron Type"</span>,</span>
<span id="cb71-183"><a href="#cb71-183" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number for Records"</span>)</span>
<span id="cb71-184"><a href="#cb71-184" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-185"><a href="#cb71-185" aria-hidden="true" tabindex="-1"></a>The most prominent types of patrons registered in SF Library system are : Adults, Juvenile, Senior, Welcome (guest) and Young Adults.</span>
<span id="cb71-186"><a href="#cb71-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-189"><a href="#cb71-189" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-190"><a href="#cb71-190" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> library_data, <span class="fu">aes</span>(<span class="at">x =</span> branch)) <span class="sc">+</span></span>
<span id="cb71-191"><a href="#cb71-191" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb71-192"><a href="#cb71-192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"count"</span>,<span class="at">fill=</span><span class="st">'lightyellow'</span>) <span class="sc">+</span></span>
<span id="cb71-193"><a href="#cb71-193" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of records by branches"</span>,</span>
<span id="cb71-194"><a href="#cb71-194" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Branches"</span>,</span>
<span id="cb71-195"><a href="#cb71-195" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number for Records"</span>)</span>
<span id="cb71-196"><a href="#cb71-196" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-197"><a href="#cb71-197" aria-hidden="true" tabindex="-1"></a>The maximum patrons where registered at the MAIN Library, which makes sense, as the main branch generally has most books and is most accessible to the people.</span>
<span id="cb71-198"><a href="#cb71-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-199"><a href="#cb71-199" aria-hidden="true" tabindex="-1"></a><span class="fu">### Data Statistics</span></span>
<span id="cb71-200"><a href="#cb71-200" aria-hidden="true" tabindex="-1"></a>The two main continuous columns of this dataset are : Total Renewals and Total Checkouts made by the patrons. The statistics for which are present below:</span>
<span id="cb71-201"><a href="#cb71-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-204"><a href="#cb71-204" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-205"><a href="#cb71-205" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(library_data<span class="sc">$</span>total_checkouts)</span>
<span id="cb71-206"><a href="#cb71-206" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-207"><a href="#cb71-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-210"><a href="#cb71-210" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-211"><a href="#cb71-211" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(library_data<span class="sc">$</span>total_renewals)</span>
<span id="cb71-212"><a href="#cb71-212" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-213"><a href="#cb71-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-214"><a href="#cb71-214" aria-hidden="true" tabindex="-1"></a><span class="fu">## VISUALIZATIONS </span></span>
<span id="cb71-215"><a href="#cb71-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-216"><a href="#cb71-216" aria-hidden="true" tabindex="-1"></a><span class="fu">### Year of Registration by Age Range</span></span>
<span id="cb71-217"><a href="#cb71-217" aria-hidden="true" tabindex="-1"></a>Firstly, we will analyze the trend of "year when patrons registered" with the "Age Range".</span>
<span id="cb71-220"><a href="#cb71-220" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-221"><a href="#cb71-221" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">%&gt;%</span></span>
<span id="cb71-222"><a href="#cb71-222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb71-223"><a href="#cb71-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">group=</span>age, <span class="at">fill=</span>age)) <span class="sc">+</span></span>
<span id="cb71-224"><a href="#cb71-224" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">adjust=</span><span class="fl">1.5</span>, <span class="at">alpha=</span>.<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb71-225"><a href="#cb71-225" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Year of Registration by Age Range"</span>,</span>
<span id="cb71-226"><a href="#cb71-226" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year of Registry"</span>,</span>
<span id="cb71-227"><a href="#cb71-227" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of patrons registered"</span>)</span>
<span id="cb71-228"><a href="#cb71-228" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-229"><a href="#cb71-229" aria-hidden="true" tabindex="-1"></a>As expected patrons with ages 60 and higher have been registered since 2003. We can see that the young children from the age of 0-9 years have started registering since 2012, which shows they are curious readers or their parents would've enrolled them to read books and gain information.  </span>
<span id="cb71-230"><a href="#cb71-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-231"><a href="#cb71-231" aria-hidden="true" tabindex="-1"></a><span class="fu">### Total Checkouts and Renewals by Age Range</span></span>
<span id="cb71-232"><a href="#cb71-232" aria-hidden="true" tabindex="-1"></a>Now, we will look into the two important columns total_checkouts and total_renewals for each category of patrons and different age groups to get an idea of the circulation of the books.</span>
<span id="cb71-233"><a href="#cb71-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-236"><a href="#cb71-236" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-237"><a href="#cb71-237" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">%&gt;%</span></span>
<span id="cb71-238"><a href="#cb71-238" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb71-239"><a href="#cb71-239" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age,<span class="at">y=</span>total_checkouts)) <span class="sc">+</span></span>
<span id="cb71-240"><a href="#cb71-240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"sum"</span>,<span class="at">fill=</span><span class="st">'lightpink'</span>) <span class="sc">+</span></span>
<span id="cb71-241"><a href="#cb71-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Checkouts by Age Range"</span>,</span>
<span id="cb71-242"><a href="#cb71-242" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age Range"</span>,</span>
<span id="cb71-243"><a href="#cb71-243" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total number of checkouts"</span>) <span class="sc">+</span><span class="fu">coord_flip</span>()<span class="sc">+</span><span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>)</span>
<span id="cb71-244"><a href="#cb71-244" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-245"><a href="#cb71-245" aria-hidden="true" tabindex="-1"></a>The majority of checkouts in the SF libraries were made by ages: 65 to 74 years followed by 45-54 years and the young readers 10-19 years.This shows us that the every generation is interested in reading books.</span>
<span id="cb71-246"><a href="#cb71-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-249"><a href="#cb71-249" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-250"><a href="#cb71-250" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb71-251"><a href="#cb71-251" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> library_data, <span class="fu">aes</span>(<span class="at">x =</span> age,<span class="at">y=</span>total_renewals)) <span class="sc">+</span></span>
<span id="cb71-252"><a href="#cb71-252" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"sum"</span>,<span class="at">fill=</span><span class="st">'lightblue'</span>) <span class="sc">+</span></span>
<span id="cb71-253"><a href="#cb71-253" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Renewals by Age Range"</span>,</span>
<span id="cb71-254"><a href="#cb71-254" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age Range"</span>,</span>
<span id="cb71-255"><a href="#cb71-255" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total number of Renewals"</span>) <span class="sc">+</span><span class="fu">coord_flip</span>()<span class="sc">+</span><span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>)</span>
<span id="cb71-256"><a href="#cb71-256" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-257"><a href="#cb71-257" aria-hidden="true" tabindex="-1"></a>The majority of renewals on the other hand were made by 45-54 years followed by 65-74 years. We can observe using the above two trends that 45-54 and 65-74 years age gaps show maximum engagement and have issued and renewed majority of books as compared to others.</span>
<span id="cb71-258"><a href="#cb71-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-259"><a href="#cb71-259" aria-hidden="true" tabindex="-1"></a><span class="fu">### Total Checkouts and Renewals by Patron Types</span></span>
<span id="cb71-262"><a href="#cb71-262" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-263"><a href="#cb71-263" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span> </span>
<span id="cb71-264"><a href="#cb71-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>patron_type, <span class="at">y=</span>total_checkouts)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb71-265"><a href="#cb71-265" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">color =</span> <span class="st">"tomato"</span>)<span class="sc">+</span></span>
<span id="cb71-266"><a href="#cb71-266" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb71-267"><a href="#cb71-267" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Checkouts by Patron type"</span>,</span>
<span id="cb71-268"><a href="#cb71-268" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Patron type"</span>,</span>
<span id="cb71-269"><a href="#cb71-269" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total number of Checkouts"</span>)</span>
<span id="cb71-270"><a href="#cb71-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-271"><a href="#cb71-271" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-272"><a href="#cb71-272" aria-hidden="true" tabindex="-1"></a>The majority of checkouts were made by ADULTS and SENIORS as compared to other types of patrons, which validates our theory above.</span>
<span id="cb71-273"><a href="#cb71-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-276"><a href="#cb71-276" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-277"><a href="#cb71-277" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span> </span>
<span id="cb71-278"><a href="#cb71-278" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>patron_type, <span class="at">y=</span>total_renewals)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb71-279"><a href="#cb71-279" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">color =</span> <span class="st">"tomato"</span>)<span class="sc">+</span></span>
<span id="cb71-280"><a href="#cb71-280" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb71-281"><a href="#cb71-281" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Renewals by Patron type"</span>,</span>
<span id="cb71-282"><a href="#cb71-282" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Patron type"</span>,</span>
<span id="cb71-283"><a href="#cb71-283" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total number of Renewals"</span>)</span>
<span id="cb71-284"><a href="#cb71-284" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-285"><a href="#cb71-285" aria-hidden="true" tabindex="-1"></a>The renewals here show that even though ADULTS and SENIORS had maximum renewals, there were significant renewals by YOUNG ADULTS, JUVENILE and STAFF members as well.</span>
<span id="cb71-286"><a href="#cb71-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-287"><a href="#cb71-287" aria-hidden="true" tabindex="-1"></a><span class="fu">### Checkouts and Renewals - A trend</span></span>
<span id="cb71-288"><a href="#cb71-288" aria-hidden="true" tabindex="-1"></a>As, seen the "Total Checkouts" and "Total Renewals" follow a similar trend, let us analyze them in with the year of registry.</span>
<span id="cb71-291"><a href="#cb71-291" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-292"><a href="#cb71-292" aria-hidden="true" tabindex="-1"></a>filtered <span class="ot">&lt;-</span> library_data <span class="sc">%&gt;%</span></span>
<span id="cb71-293"><a href="#cb71-293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year_registered) <span class="sc">%&gt;%</span>                    <span class="co"># group by</span></span>
<span id="cb71-294"><a href="#cb71-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">check =</span> <span class="fu">mean</span>(total_checkouts), <span class="at">rene =</span> <span class="fu">mean</span>(total_renewals)) </span>
<span id="cb71-295"><a href="#cb71-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-296"><a href="#cb71-296" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb71-297"><a href="#cb71-297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> filtered, <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">y=</span>check),<span class="at">arrow =</span> <span class="fu">arrow</span>(), <span class="at">color=</span><span class="st">"#69b3a2"</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb71-298"><a href="#cb71-298" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">color=</span><span class="st">"#69b3a2"</span>)<span class="sc">+</span></span>
<span id="cb71-299"><a href="#cb71-299" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Checkouts by Year of Registry"</span>,</span>
<span id="cb71-300"><a href="#cb71-300" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="st">"Year Registered"</span>,</span>
<span id="cb71-301"><a href="#cb71-301" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="st">"Average number of Checkouts"</span>)</span>
<span id="cb71-302"><a href="#cb71-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-303"><a href="#cb71-303" aria-hidden="true" tabindex="-1"></a>myarrow<span class="ot">=</span><span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">ends =</span> <span class="st">"both"</span>, <span class="at">type =</span> <span class="st">"closed"</span>)</span>
<span id="cb71-304"><a href="#cb71-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-305"><a href="#cb71-305" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-308"><a href="#cb71-308" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-309"><a href="#cb71-309" aria-hidden="true" tabindex="-1"></a>filtered <span class="ot">&lt;-</span> library_data <span class="sc">%&gt;%</span></span>
<span id="cb71-310"><a href="#cb71-310" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year_registered) <span class="sc">%&gt;%</span>                    <span class="co"># group by</span></span>
<span id="cb71-311"><a href="#cb71-311" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">check =</span> <span class="fu">mean</span>(total_checkouts), <span class="at">rene =</span> <span class="fu">mean</span>(total_renewals)) </span>
<span id="cb71-312"><a href="#cb71-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-313"><a href="#cb71-313" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb71-314"><a href="#cb71-314" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> filtered, <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">y=</span>rene),<span class="at">arrow =</span> <span class="fu">arrow</span>(), <span class="at">color=</span><span class="st">"lightblue"</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb71-315"><a href="#cb71-315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">color=</span><span class="st">"lightblue"</span>)<span class="sc">+</span></span>
<span id="cb71-316"><a href="#cb71-316" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Renewals by Year of Registry"</span>,</span>
<span id="cb71-317"><a href="#cb71-317" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="st">"Year Registered"</span>,</span>
<span id="cb71-318"><a href="#cb71-318" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="st">"Average number of Renewals"</span>)</span>
<span id="cb71-319"><a href="#cb71-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-320"><a href="#cb71-320" aria-hidden="true" tabindex="-1"></a>myarrow<span class="ot">=</span><span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">ends =</span> <span class="st">"both"</span>, <span class="at">type =</span> <span class="st">"closed"</span>)</span>
<span id="cb71-321"><a href="#cb71-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-322"><a href="#cb71-322" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-323"><a href="#cb71-323" aria-hidden="true" tabindex="-1"></a>The values of checkouts and renewals have been declining over the years, having been at its highest in 2003 and being the lowest in value by 2016. There was a slight increase in 2007 but was not much significant. This totally makes sense, as the people who registered way before had more time, thus, more checkouts and subscriptions.</span>
<span id="cb71-324"><a href="#cb71-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-325"><a href="#cb71-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-328"><a href="#cb71-328" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-329"><a href="#cb71-329" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span></span>
<span id="cb71-330"><a href="#cb71-330" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(active_year<span class="sc">!=</span><span class="st">'None'</span>)<span class="sc">%&gt;%</span><span class="co"># data                 </span></span>
<span id="cb71-331"><a href="#cb71-331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(active_year) <span class="sc">%&gt;%</span>                   </span>
<span id="cb71-332"><a href="#cb71-332" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">y =</span> <span class="fu">mean</span>(total_checkouts)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-333"><a href="#cb71-333" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>active_year, <span class="at">y=</span>y, <span class="at">group=</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb71-334"><a href="#cb71-334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">arrow =</span> <span class="fu">arrow</span>(),<span class="at">color=</span><span class="st">"#D55E00"</span>, <span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb71-335"><a href="#cb71-335" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">"#D55E00"</span>, <span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb71-336"><a href="#cb71-336" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Checkouts by Active Year"</span>,</span>
<span id="cb71-337"><a href="#cb71-337" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="st">"Active Year (Last year of activity)"</span>,</span>
<span id="cb71-338"><a href="#cb71-338" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="st">"Average number of Checkouts"</span>)</span>
<span id="cb71-339"><a href="#cb71-339" aria-hidden="true" tabindex="-1"></a>myarrow<span class="ot">=</span><span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">ends =</span> <span class="st">"both"</span>, <span class="at">type =</span> <span class="st">"closed"</span>)</span>
<span id="cb71-340"><a href="#cb71-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-341"><a href="#cb71-341" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-342"><a href="#cb71-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-345"><a href="#cb71-345" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-346"><a href="#cb71-346" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span></span>
<span id="cb71-347"><a href="#cb71-347" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(active_year<span class="sc">!=</span><span class="st">'None'</span>)<span class="sc">%&gt;%</span><span class="co"># data                 </span></span>
<span id="cb71-348"><a href="#cb71-348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(active_year) <span class="sc">%&gt;%</span>                    <span class="co"># group by</span></span>
<span id="cb71-349"><a href="#cb71-349" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">y =</span> <span class="fu">mean</span>(total_renewals)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-350"><a href="#cb71-350" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>active_year, <span class="at">y=</span>y, <span class="at">group=</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb71-351"><a href="#cb71-351" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">arrow =</span> <span class="fu">arrow</span>(),<span class="at">color=</span><span class="st">'#E69F00'</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb71-352"><a href="#cb71-352" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">'#E69F00'</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb71-353"><a href="#cb71-353" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Renewals by Active Year"</span>,</span>
<span id="cb71-354"><a href="#cb71-354" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="st">"Active Year (Last year of activity)"</span>,</span>
<span id="cb71-355"><a href="#cb71-355" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="st">"Average number of Renewals"</span>)</span>
<span id="cb71-356"><a href="#cb71-356" aria-hidden="true" tabindex="-1"></a>myarrow<span class="ot">=</span><span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">15</span>, <span class="at">ends =</span> <span class="st">"both"</span>, <span class="at">type =</span> <span class="st">"closed"</span>)</span>
<span id="cb71-357"><a href="#cb71-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-358"><a href="#cb71-358" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-359"><a href="#cb71-359" aria-hidden="true" tabindex="-1"></a>The Checkouts and renewals value is increasing significantly from year to year and the highest value was in 2016. This basically shows us the trend about how people are issuing more and more books moving forward.</span>
<span id="cb71-360"><a href="#cb71-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-361"><a href="#cb71-361" aria-hidden="true" tabindex="-1"></a>As, seen Total renewals and Total Checkouts clearly follow similar trends, let us confirm their correlation using a plot.</span>
<span id="cb71-364"><a href="#cb71-364" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-365"><a href="#cb71-365" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(library_data<span class="sc">$</span>total_checkouts, library_data<span class="sc">$</span>total_renewals, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">"lightblue"</span>,<span class="at">xlab=</span><span class="st">"Total Checkouts"</span>, <span class="at">ylab=</span><span class="st">"Total Renewals"</span>)</span>
<span id="cb71-366"><a href="#cb71-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-367"><a href="#cb71-367" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression line</span></span>
<span id="cb71-368"><a href="#cb71-368" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="fu">lm</span>( library_data<span class="sc">$</span>total_renewals <span class="sc">~</span> library_data<span class="sc">$</span>total_checkouts), <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd =</span> <span class="dv">3</span>)</span>
<span id="cb71-369"><a href="#cb71-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-370"><a href="#cb71-370" aria-hidden="true" tabindex="-1"></a><span class="co"># Pearson correlation</span></span>
<span id="cb71-371"><a href="#cb71-371" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fu">paste</span>(<span class="st">"Correlation:"</span>, <span class="fu">round</span>(<span class="fu">cor</span>(library_data<span class="sc">$</span>total_checkouts,  library_data<span class="sc">$</span>total_renewals), <span class="dv">2</span>)),<span class="at">x=</span><span class="dv">30000</span>,<span class="at">y=</span><span class="dv">1000</span>)</span>
<span id="cb71-372"><a href="#cb71-372" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-373"><a href="#cb71-373" aria-hidden="true" tabindex="-1"></a>The plot suggests a strong correlation between total checkouts and total renewals with a pearson coefficient of 0.59 ~ 0.6.</span>
<span id="cb71-374"><a href="#cb71-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-375"><a href="#cb71-375" aria-hidden="true" tabindex="-1"></a><span class="fu">### Total Checkouts by Month for year 2016</span></span>
<span id="cb71-376"><a href="#cb71-376" aria-hidden="true" tabindex="-1"></a>As, this dataset provides information about monthly checkouts and renewals, we will look at monthly charts for last year in the records i.e. 2016, to understand what trends have been lately.</span>
<span id="cb71-379"><a href="#cb71-379" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-380"><a href="#cb71-380" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span></span>
<span id="cb71-381"><a href="#cb71-381" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(active_year<span class="sc">==</span><span class="st">'2016'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb71-382"><a href="#cb71-382" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> y_m, <span class="at">fill =</span> total_checkouts)) <span class="sc">+</span></span>
<span id="cb71-383"><a href="#cb71-383" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>( <span class="at">fill=</span><span class="st">"#404080"</span>, <span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">stat =</span> <span class="st">"count"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>), <span class="at">legend.position =</span> <span class="st">"none"</span>)<span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Total Checkouts by Month for year 2016"</span>, <span class="at">y=</span><span class="st">"Total Checkouts"</span>,<span class="at">x=</span><span class="st">"month"</span>)<span class="sc">+</span><span class="fu">coord_flip</span>()</span>
<span id="cb71-384"><a href="#cb71-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-385"><a href="#cb71-385" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-386"><a href="#cb71-386" aria-hidden="true" tabindex="-1"></a><span class="fu">### Trends of Age Range and Patron Type for July 2016</span></span>
<span id="cb71-387"><a href="#cb71-387" aria-hidden="true" tabindex="-1"></a>The histogram suggests the majority of checkouts occurred in month of July followed by June.</span>
<span id="cb71-388"><a href="#cb71-388" aria-hidden="true" tabindex="-1"></a>Looking closely into July data, to understand the distribution of Total Checkouts by Age and Patron type:</span>
<span id="cb71-391"><a href="#cb71-391" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-392"><a href="#cb71-392" aria-hidden="true" tabindex="-1"></a>filter_data <span class="ot">&lt;-</span> library_data <span class="sc">%&gt;%</span></span>
<span id="cb71-393"><a href="#cb71-393" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(y_m <span class="sc">==</span><span class="st">'2016 July'</span>)</span>
<span id="cb71-394"><a href="#cb71-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-395"><a href="#cb71-395" aria-hidden="true" tabindex="-1"></a>filter_data <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(filter_data<span class="sc">$</span>total_checkouts, <span class="at">by=</span><span class="fu">list</span>(<span class="at">Age_Range=</span>filter_data<span class="sc">$</span>age), <span class="at">FUN=</span>mean)</span>
<span id="cb71-396"><a href="#cb71-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-397"><a href="#cb71-397" aria-hidden="true" tabindex="-1"></a>filter_data</span>
<span id="cb71-398"><a href="#cb71-398" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> filter_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> x, <span class="at">fill =</span> Age_Range)) <span class="sc">+</span> </span>
<span id="cb71-399"><a href="#cb71-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb71-400"><a href="#cb71-400" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>)<span class="sc">+</span></span>
<span id="cb71-401"><a href="#cb71-401" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Total Checkouts by Age Range"</span>)<span class="sc">+</span></span>
<span id="cb71-402"><a href="#cb71-402" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Paired"</span>)<span class="sc">+</span></span>
<span id="cb71-403"><a href="#cb71-403" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb71-404"><a href="#cb71-404" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb71-405"><a href="#cb71-405" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid  =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb71-406"><a href="#cb71-406" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">""</span>, <span class="at">y=</span><span class="st">""</span>)</span>
<span id="cb71-407"><a href="#cb71-407" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-408"><a href="#cb71-408" aria-hidden="true" tabindex="-1"></a>The pie chart shows the major contributions of checkouts in July 2016 were made by ages 45 years and above.</span>
<span id="cb71-409"><a href="#cb71-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-412"><a href="#cb71-412" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-413"><a href="#cb71-413" aria-hidden="true" tabindex="-1"></a>co <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#FFDB6D"</span>, <span class="st">"#C4961A"</span>, <span class="st">"#F4EDCA"</span>, </span>
<span id="cb71-414"><a href="#cb71-414" aria-hidden="true" tabindex="-1"></a>                <span class="st">"#D16103"</span>, <span class="st">"#C3D7A4"</span>, <span class="st">"#52854C"</span>, <span class="st">"#4E84C4"</span>, <span class="st">"#293352"</span>,<span class="st">"#000000"</span>, <span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span>, <span class="st">"#009E73"</span>,</span>
<span id="cb71-415"><a href="#cb71-415" aria-hidden="true" tabindex="-1"></a>          <span class="st">"#F0E442"</span>, <span class="st">"#0072B2"</span>, <span class="st">"#D55E00"</span>, <span class="st">"#CC79A7"</span>,<span class="st">"#999999"</span>)</span>
<span id="cb71-416"><a href="#cb71-416" aria-hidden="true" tabindex="-1"></a>filter_data <span class="ot">&lt;-</span> library_data <span class="sc">%&gt;%</span></span>
<span id="cb71-417"><a href="#cb71-417" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(y_m <span class="sc">==</span><span class="st">'2016 July'</span>)</span>
<span id="cb71-418"><a href="#cb71-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-419"><a href="#cb71-419" aria-hidden="true" tabindex="-1"></a>filter_data <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(filter_data<span class="sc">$</span>total_checkouts, <span class="at">by=</span><span class="fu">list</span>(<span class="at">Patron_Types=</span>filter_data<span class="sc">$</span>patron_type), <span class="at">FUN=</span>mean)</span>
<span id="cb71-420"><a href="#cb71-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-421"><a href="#cb71-421" aria-hidden="true" tabindex="-1"></a>filter_data</span>
<span id="cb71-422"><a href="#cb71-422" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> filter_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> x, <span class="at">fill =</span> Patron_Types)) <span class="sc">+</span> </span>
<span id="cb71-423"><a href="#cb71-423" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb71-424"><a href="#cb71-424" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>)<span class="sc">+</span></span>
<span id="cb71-425"><a href="#cb71-425" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Total Checkouts by Patrons type"</span>)<span class="sc">+</span></span>
<span id="cb71-426"><a href="#cb71-426" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>co)<span class="sc">+</span></span>
<span id="cb71-427"><a href="#cb71-427" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb71-428"><a href="#cb71-428" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb71-429"><a href="#cb71-429" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid  =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb71-430"><a href="#cb71-430" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">""</span>, <span class="at">y=</span><span class="st">""</span>)</span>
<span id="cb71-431"><a href="#cb71-431" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-432"><a href="#cb71-432" aria-hidden="true" tabindex="-1"></a>The pie chart suggests major contributions in July 2016 for checkout were made by Retired Staff and Staff members.</span>
<span id="cb71-433"><a href="#cb71-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-434"><a href="#cb71-434" aria-hidden="true" tabindex="-1"></a><span class="fu">### Notice preference by location(pincode)</span></span>
<span id="cb71-437"><a href="#cb71-437" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-438"><a href="#cb71-438" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(pincode<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb71-439"><a href="#cb71-439" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(notice_preference,pincode) <span class="sc">%&gt;%</span> </span>
<span id="cb71-440"><a href="#cb71-440" aria-hidden="true" tabindex="-1"></a>                <span class="fu">group_by</span>(notice_preference,pincode) <span class="sc">%&gt;%</span> </span>
<span id="cb71-441"><a href="#cb71-441" aria-hidden="true" tabindex="-1"></a>                <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb71-442"><a href="#cb71-442" aria-hidden="true" tabindex="-1"></a>                <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">reorder</span>(pincode, n), n, <span class="at">fill =</span> notice_preference)) <span class="sc">+</span> </span>
<span id="cb71-443"><a href="#cb71-443" aria-hidden="true" tabindex="-1"></a>                <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span> </span>
<span id="cb71-444"><a href="#cb71-444" aria-hidden="true" tabindex="-1"></a>                <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb71-445"><a href="#cb71-445" aria-hidden="true" tabindex="-1"></a>                <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>)<span class="sc">+</span></span>
<span id="cb71-446"><a href="#cb71-446" aria-hidden="true" tabindex="-1"></a>                <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Notification preference by Pincode"</span>, <span class="at">fill =</span> <span class="st">"Notice Prefernce"</span>,<span class="at">x=</span><span class="st">'pincodes'</span>,<span class="at">y=</span><span class="st">'Number of records'</span>) </span>
<span id="cb71-447"><a href="#cb71-447" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-448"><a href="#cb71-448" aria-hidden="true" tabindex="-1"></a>This plot suggests, most patrons prefer emails as the notice preference, and most of the patrons are registered in pincode 94102.</span>
<span id="cb71-449"><a href="#cb71-449" aria-hidden="true" tabindex="-1"></a>Examining the data based on the most popular pincode - "924102", which will give us trends about area nearby.</span>
<span id="cb71-450"><a href="#cb71-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-451"><a href="#cb71-451" aria-hidden="true" tabindex="-1"></a><span class="fu">### Checkouts for prominent pincode by Patron Types and Age Ranges</span></span>
<span id="cb71-454"><a href="#cb71-454" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-455"><a href="#cb71-455" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span></span>
<span id="cb71-456"><a href="#cb71-456" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pincode <span class="sc">==</span><span class="st">'94102'</span> <span class="sc">&amp;</span> age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb71-457"><a href="#cb71-457" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y=</span>patron_type, <span class="at">size =</span> total_checkouts)) <span class="sc">+</span></span>
<span id="cb71-458"><a href="#cb71-458" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb71-459"><a href="#cb71-459" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb71-460"><a href="#cb71-460" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Checkouts by Patron Types and Age Ranges"</span>,<span class="at">x=</span><span class="st">'Age Range'</span>,<span class="at">y=</span><span class="st">'Patron Type'</span>) </span>
<span id="cb71-461"><a href="#cb71-461" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-462"><a href="#cb71-462" aria-hidden="true" tabindex="-1"></a>We can observe major activity for pincode 94102, were made by ADULTS of age 45-54 years and 54-59 years,SENIORS of 64-74 years. There are also a few checkouts by STAFF members with ages 0-9 years, which looks suspicious.</span>
<span id="cb71-463"><a href="#cb71-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-464"><a href="#cb71-464" aria-hidden="true" tabindex="-1"></a><span class="fu">### Year of Patron Registration by Branches</span></span>
<span id="cb71-465"><a href="#cb71-465" aria-hidden="true" tabindex="-1"></a>The plots show how many patrons registered in each year for each branch location.</span>
<span id="cb71-468"><a href="#cb71-468" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-469"><a href="#cb71-469" aria-hidden="true" tabindex="-1"></a><span class="co"># Bottom Left</span></span>
<span id="cb71-470"><a href="#cb71-470" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(library_data, <span class="fu">aes</span>(<span class="at">x=</span>branch, <span class="at">y=</span>year_registered, <span class="at">fill=</span>branch)) <span class="sc">+</span> </span>
<span id="cb71-471"><a href="#cb71-471" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha=</span><span class="fl">0.3</span>)<span class="sc">+</span> <span class="fu">coord_flip</span>()  <span class="sc">+</span>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>),<span class="at">legend.position=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb71-472"><a href="#cb71-472" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title=</span><span class="st">'Year of Patron Registration by Branches'</span>,<span class="at">x=</span><span class="st">'Year Registered'</span>,<span class="at">y=</span><span class="st">'Branch'</span>)</span>
<span id="cb71-473"><a href="#cb71-473" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-474"><a href="#cb71-474" aria-hidden="true" tabindex="-1"></a>There is an interesting observation in Children's Bookmobile Branch, while most registries of patrons were towards 2012, there was one registry in 2003 (which can be seen as an outlier).</span>
<span id="cb71-475"><a href="#cb71-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-476"><a href="#cb71-476" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analysis for Residents and Non-Residents</span></span>
<span id="cb71-477"><a href="#cb71-477" aria-hidden="true" tabindex="-1"></a>There is also an important column "outside_of_county" which shows the patrons outside of San Franciso. Let us analyze some trends related to the column.</span>
<span id="cb71-480"><a href="#cb71-480" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-481"><a href="#cb71-481" aria-hidden="true" tabindex="-1"></a>library_data <span class="sc">%&gt;%</span><span class="fu">ggplot</span>(<span class="fu">aes</span>(total_checkouts , outside_of_county)) <span class="sc">+</span><span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">color=</span>outside_of_county))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Total Checkouts by Patrongs Outside and In County"</span>, <span class="at">x=</span><span class="st">'Outside of County'</span>,<span class="at">y=</span><span class="st">'Total Checkouts'</span>)</span>
<span id="cb71-482"><a href="#cb71-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-483"><a href="#cb71-483" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-484"><a href="#cb71-484" aria-hidden="true" tabindex="-1"></a>The plot suggests, most of the patrons are present in SF itself. Also, total checkouts for a few patrons in SF cross over 20k as well.</span>
<span id="cb71-485"><a href="#cb71-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-486"><a href="#cb71-486" aria-hidden="true" tabindex="-1"></a><span class="fu">### Different Patron types by year of registery and their residence.</span></span>
<span id="cb71-487"><a href="#cb71-487" aria-hidden="true" tabindex="-1"></a>This shows density of patrons based on the year of registration of different types of patrons residing in and out of San Franciso.</span>
<span id="cb71-490"><a href="#cb71-490" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-491"><a href="#cb71-491" aria-hidden="true" tabindex="-1"></a><span class="co"># Using Small multiple</span></span>
<span id="cb71-492"><a href="#cb71-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-493"><a href="#cb71-493" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>library_data, <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">group=</span>outside_of_county, <span class="at">fill=</span>outside_of_county)) <span class="sc">+</span></span>
<span id="cb71-494"><a href="#cb71-494" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">adjust=</span><span class="fl">1.5</span>,<span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb71-495"><a href="#cb71-495" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>patron_type) <span class="sc">+</span></span>
<span id="cb71-496"><a href="#cb71-496" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb71-497"><a href="#cb71-497" aria-hidden="true" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb71-498"><a href="#cb71-498" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">"lines"</span>),</span>
<span id="cb71-499"><a href="#cb71-499" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb71-500"><a href="#cb71-500" aria-hidden="true" tabindex="-1"></a>    )<span class="sc">+</span></span>
<span id="cb71-501"><a href="#cb71-501" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Patron density based on year of registration, patron type and residency"</span>)</span>
<span id="cb71-502"><a href="#cb71-502" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-503"><a href="#cb71-503" aria-hidden="true" tabindex="-1"></a><span class="fu">### Different Age Range by year of registery and their residence.</span></span>
<span id="cb71-504"><a href="#cb71-504" aria-hidden="true" tabindex="-1"></a>This shows density of patrons based on the year of registration for different age groups residing in and out of San Franciso.</span>
<span id="cb71-507"><a href="#cb71-507" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb71-508"><a href="#cb71-508" aria-hidden="true" tabindex="-1"></a><span class="co"># Using Small multiple</span></span>
<span id="cb71-509"><a href="#cb71-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-510"><a href="#cb71-510" aria-hidden="true" tabindex="-1"></a>library_data<span class="sc">%&gt;%</span></span>
<span id="cb71-511"><a href="#cb71-511" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age<span class="sc">!=</span><span class="st">'NA'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb71-512"><a href="#cb71-512" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>year_registered, <span class="at">group=</span>outside_of_county, <span class="at">fill=</span>outside_of_county)) <span class="sc">+</span></span>
<span id="cb71-513"><a href="#cb71-513" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">adjust=</span><span class="fl">1.5</span>, <span class="at">alpha=</span>.<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb71-514"><a href="#cb71-514" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>age) <span class="sc">+</span></span>
<span id="cb71-515"><a href="#cb71-515" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb71-516"><a href="#cb71-516" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb71-517"><a href="#cb71-517" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="fl">0.9</span>, <span class="st">"lines"</span>),</span>
<span id="cb71-518"><a href="#cb71-518" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>()</span>
<span id="cb71-519"><a href="#cb71-519" aria-hidden="true" tabindex="-1"></a>    )<span class="sc">+</span></span>
<span id="cb71-520"><a href="#cb71-520" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Patron density based on year of registration, age range and residency"</span>)</span>
<span id="cb71-521"><a href="#cb71-521" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb71-522"><a href="#cb71-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-523"><a href="#cb71-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-524"><a href="#cb71-524" aria-hidden="true" tabindex="-1"></a><span class="fu">## REFLECTION</span></span>
<span id="cb71-525"><a href="#cb71-525" aria-hidden="true" tabindex="-1"></a>This project and working with R has been a learning experience for me as I am a Computer Science student. While starting this project, I thought maybe the San Franciso Library Usage dataset would be very concise, but as I kept diving into the dataset, I realized it has so much information about patrons, the library branches, the age groups and their contributions to checkouts and renewals of books. The Integrated library management dataset gave me some interesting findings.</span>
<span id="cb71-526"><a href="#cb71-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-527"><a href="#cb71-527" aria-hidden="true" tabindex="-1"></a>My strategy was to understand how each category(column) is affecting the checkouts and renewals, and then if any interesting observation was seen, I would  move forward with digging in more in that direction. For eg: I looked into 2016's data per month and found that July had the most checkouts. I dived in to the July 2016's data to understand who made those checkouts? Which age range and patron type contributed the most to it? This approach made the visualization making process very intriguing for me.</span>
<span id="cb71-528"><a href="#cb71-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-529"><a href="#cb71-529" aria-hidden="true" tabindex="-1"></a>The dataset had a lot of records, but to incorporate more information on branches I searched through the SF public library website and manually loaded the data to a csv, which I then incorporated in the main dataset. Challenging part was to understand what different fields mean, specially what different year values signify? Also, understanding from whose point of view is this data made and whats the timeline?</span>
<span id="cb71-530"><a href="#cb71-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-531"><a href="#cb71-531" aria-hidden="true" tabindex="-1"></a>I tried to learn, have fun with it, and incorporate all types of plots, specially histograms, density plots and facet_wrap which made it easier to see observations. If we had more information about the data from other parts of California or USA, I could have found trends for a much higher population using these visualizations. Also, we need more information about the branches, as only geographical information was available on the website. Apart from that, some information about the different categories of books, which age groups like which categories more, that would be an interesting research to do.</span>
<span id="cb71-532"><a href="#cb71-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-533"><a href="#cb71-533" aria-hidden="true" tabindex="-1"></a><span class="fu">## CONCLUSION</span></span>
<span id="cb71-534"><a href="#cb71-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-535"><a href="#cb71-535" aria-hidden="true" tabindex="-1"></a>Starting from the basics, there were 10 Age ranges varying over 17 Patron Types, 34 branches and over 4 lakh records. The dataset gave me insights about which Age Range is making the most checkouts and renewals - and it was inspiring to figure out that 10-19, 45-54 and 65-74 age ranges had the maximum checkouts, this implies all generations are interested in issuing books and reading them, which is a great habit. I also noticed that ADULTS and SENIORS had the highest checkouts and renewals, which means they take some time reading it or re-read it, by renewing the books. Comparatively, there are also high renewals for YOUNG ADULTS, students generally tend to issue some books for studying and end up renewing them.</span>
<span id="cb71-536"><a href="#cb71-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-537"><a href="#cb71-537" aria-hidden="true" tabindex="-1"></a>It was very clear, that checkouts and renewals were strong correlated, which does make sense intuitively. I showed it using the pearson coefficient in our code above. The plots also reflected that the checkouts and renewals have increased over time, that means people are getting more and more interested in issuing and reading books. Another trend, I noted was related to "Year of Registry" and "Average Checkouts/Average Renewals", which should intuitively follow a decreasing trend (as people who registered earlier will definitely have more checkouts due to more time), but there was a slight increase in 2007, so that was definitely an anomaly.</span>
<span id="cb71-538"><a href="#cb71-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-539"><a href="#cb71-539" aria-hidden="true" tabindex="-1"></a>For finding a general trend, I looked into 2016's data per month (as it was the last recorded year in the dataset) and found that July had the most checkouts. I dived into the July 2016 data and figured they were majorly made by patrons of age 45 and above, and most of them were Staff members or Retired staff. One reason for this could be the holiday season for students, as they do not contribute much towards the checkouts.</span>
<span id="cb71-540"><a href="#cb71-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-541"><a href="#cb71-541" aria-hidden="true" tabindex="-1"></a>I also figured that, most patrons prefer EMAIL as their preference of notice and based on the pincodes of branches, "94102" is the most popular pincode for checkouts and renewals. On looking in more detail about the pincode "94102", I figured most checkouts in that area were made by ADULTS of age 45-54 years and 54-59 years and SENIORS of 64-74 years. There are also a few checkouts by STAFF members with ages 0-9 years, which is weird. </span>
<span id="cb71-542"><a href="#cb71-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-543"><a href="#cb71-543" aria-hidden="true" tabindex="-1"></a>There are some patrons who reside outside the SF county, but they are lesser in numbers than the ones in SF. The registry with SF Public library over the years for people residing in and out of the county can be seen the graphs above, they have been grouped by Age Range and Patron Types. </span>
<span id="cb71-544"><a href="#cb71-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-545"><a href="#cb71-545" aria-hidden="true" tabindex="-1"></a>After so many observations, we still do not know how Age Ranges and Patron Types are related, and will need some more information about them. Also, how are different branches related to each other? Do they share some books? Some more information can lead to better observations and analysis, but all these visualizations on our dataset, were definitely insightful and enlightened me about the SF Integrated Library System.</span>
<span id="cb71-546"><a href="#cb71-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-547"><a href="#cb71-547" aria-hidden="true" tabindex="-1"></a><span class="fu">## BIBLIOGRAPHY</span></span>
<span id="cb71-548"><a href="#cb71-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-549"><a href="#cb71-549" aria-hidden="true" tabindex="-1"></a>RStudio Team (2022). RStudio: Integrated Development Environment for R. RStudio, PBC, Boston, MA, http://www.rstudio.com/.</span>
<span id="cb71-550"><a href="#cb71-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-551"><a href="#cb71-551" aria-hidden="true" tabindex="-1"></a>Wickham, H., François, R., Henry, L., &amp; Müller, K. (n.d.). Programming with dplyr. dplyr. https://dplyr.tidyverse.org/articles/programming.html</span>
<span id="cb71-552"><a href="#cb71-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-553"><a href="#cb71-553" aria-hidden="true" tabindex="-1"></a>Wickham, H. &amp; Grolemund, G. (n.d.). R for data science <span class="co">[</span><span class="ot">eBook edition</span><span class="co">]</span>. O’Reilly. https://r4ds.had.co.nz/index.html</span>
<span id="cb71-554"><a href="#cb71-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-555"><a href="#cb71-555" aria-hidden="true" tabindex="-1"></a>Wickham et al. (2019). Welcome to the tidyverse. Journal of Open Source Software, 4(43), 1686. https://doi.org/10.21105/joss.01686</span>
<span id="cb71-556"><a href="#cb71-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-557"><a href="#cb71-557" aria-hidden="true" tabindex="-1"></a>Source of Dataset : https://www.kaggle.com/datasets/datasf/sf-library-usage-data</span>
<span id="cb71-558"><a href="#cb71-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-559"><a href="#cb71-559" aria-hidden="true" tabindex="-1"></a>https://data.sfgov.org/Culture-and-Recreation/Library-Usage/qzz6-2jup</span>
<span id="cb71-560"><a href="#cb71-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-561"><a href="#cb71-561" aria-hidden="true" tabindex="-1"></a>SF Public Library Website : https://sfpl.org/ </span>
<span id="cb71-562"><a href="#cb71-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-563"><a href="#cb71-563" aria-hidden="true" tabindex="-1"></a>Branch Information : https://sfpl.org/locations/#!/filters?sort_by=weight&amp;sort_order=ASC&amp;page=2</span>
<span id="cb71-564"><a href="#cb71-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-565"><a href="#cb71-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-566"><a href="#cb71-566" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>